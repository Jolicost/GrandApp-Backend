(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	var module = __webpack_require__(id);
	return module;
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app-routing.module.ts":
/*!***************************************!*\
  !*** ./src/app/app-routing.module.ts ***!
  \***************************************/
/*! exports provided: AppRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppRoutingModule", function() { return AppRoutingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _components_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/dashboard/dashboard.component */ "./src/app/components/dashboard/dashboard.component.ts");
/* harmony import */ var _components_activities_activities_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/activities/activities.component */ "./src/app/components/activities/activities.component.ts");
/* harmony import */ var _components_users_users_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/users/users.component */ "./src/app/components/users/users.component.ts");
/* harmony import */ var _components_user_activities_user_activities_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/user-activities/user-activities.component */ "./src/app/components/user-activities/user-activities.component.ts");
/* harmony import */ var _components_login_login_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/login/login.component */ "./src/app/components/login/login.component.ts");
/* harmony import */ var _components_activity_details_activity_details_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/activity-details/activity-details.component */ "./src/app/components/activity-details/activity-details.component.ts");
/* harmony import */ var _services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./services/guard/auth-guard.service */ "./src/app/services/guard/auth-guard.service.ts");
/* harmony import */ var _components_user_profile_user_profile_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/user-profile/user-profile.component */ "./src/app/components/user-profile/user-profile.component.ts");
/* harmony import */ var _components_user_details_user_details_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components/user-details/user-details.component */ "./src/app/components/user-details/user-details.component.ts");
/* harmony import */ var _components_allusers_allusers_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/allusers/allusers.component */ "./src/app/components/allusers/allusers.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












var routes = [
    { path: '', redirectTo: '/login', pathMatch: 'full' },
    { path: 'login', component: _components_login_login_component__WEBPACK_IMPORTED_MODULE_6__["LoginComponent"] },
    {
        path: 'dashboard',
        component: _components_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_2__["DashboardComponent"],
        canActivate: [_services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    },
    {
        path: 'activities',
        component: _components_activities_activities_component__WEBPACK_IMPORTED_MODULE_3__["ActivitiesComponent"],
        canActivate: [_services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    },
    { path: 'emergency', component: _components_users_users_component__WEBPACK_IMPORTED_MODULE_4__["UsersComponent"], canActivate: [_services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]] },
    {
        path: 'users',
        component: _components_user_activities_user_activities_component__WEBPACK_IMPORTED_MODULE_5__["UserActivitiesComponent"],
        canActivate: [_services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    },
    {
        path: 'users/:id',
        component: _components_user_details_user_details_component__WEBPACK_IMPORTED_MODULE_10__["UserDetailsComponent"],
        canActivate: [_services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    },
    {
        path: 'activities/:id',
        component: _components_activity_details_activity_details_component__WEBPACK_IMPORTED_MODULE_7__["ActivityDetailsComponent"],
        canActivate: [_services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    },
    {
        path: 'userinfo',
        component: _components_user_profile_user_profile_component__WEBPACK_IMPORTED_MODULE_9__["UserProfileComponent"],
        canActivate: [_services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    },
    {
        path: 'allusers',
        component: _components_allusers_allusers_component__WEBPACK_IMPORTED_MODULE_11__["AllusersComponent"],
        canActivate: [_services_guard_auth_guard_service__WEBPACK_IMPORTED_MODULE_8__["AuthGuardService"]]
    }
];
var AppRoutingModule = /** @class */ (function () {
    function AppRoutingModule() {
    }
    AppRoutingModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
            imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forRoot(routes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
        })
    ], AppRoutingModule);
    return AppRoutingModule;
}());



/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "mat-sidenav-content {\r\n    padding: 30px;\r\n}"

/***/ }),

/***/ "./src/app/app.component.html":
/*!************************************!*\
  !*** ./src/app/app.component.html ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<mat-toolbar style=\"height: 50px; background-color: grey\">\r\n    <app-top-bar></app-top-bar>\r\n</mat-toolbar>\r\n\r\n<div class=\"content\">\r\n    <mat-sidenav-container class=\"side-bar-container\" style=\"position: absolute; width: 100%; height: 100%;\">\r\n        <mat-sidenav id=\"sidbar\" #sidenav [opened]=\"opened\" mode=\"side\">\r\n            <div class=\"side content\">\r\n                <app-side-bar></app-side-bar>\r\n            </div>\r\n        </mat-sidenav>\r\n\r\n        <mat-sidenav-content>\r\n            <router-outlet></router-outlet>\r\n        </mat-sidenav-content>\r\n\r\n    </mat-sidenav-container>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./services/sidebar/sidebar.service */ "./src/app/services/sidebar/sidebar.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var AppComponent = /** @class */ (function () {
    function AppComponent(sidebarService) {
        var _this = this;
        this.sidebarService = sidebarService;
        this.opened = false;
        this.sidebarService.opened$.subscribe(function (status) {
            if (status === 'open') {
                _this.opened = true;
            }
            else {
                _this.opened = false;
            }
        });
    }
    AppComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-root',
            template: __webpack_require__(/*! ./app.component.html */ "./src/app/app.component.html"),
            styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
        }),
        __metadata("design:paramtypes", [_services_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_1__["SidebarService"]])
    ], AppComponent);
    return AppComponent;
}());



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: AppModule, jwtTokenGetter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "jwtTokenGetter", function() { return jwtTokenGetter; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm5/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app-routing.module */ "./src/app/app-routing.module.ts");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm5/animations.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/sidenav */ "./node_modules/@angular/material/esm5/sidenav.es5.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/esm5/checkbox.es5.js");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/esm5/toolbar.es5.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm5/dialog.es5.js");
/* harmony import */ var _angular_material_form_field__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/form-field */ "./node_modules/@angular/material/esm5/form-field.es5.js");
/* harmony import */ var _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/snack-bar */ "./node_modules/@angular/material/esm5/snack-bar.es5.js");
/* harmony import */ var _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/datepicker */ "./node_modules/@angular/material/esm5/datepicker.es5.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/esm5/select.es5.js");
/* harmony import */ var _components_user_profile_user_profile_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/user-profile/user-profile.component */ "./src/app/components/user-profile/user-profile.component.ts");
/* harmony import */ var _components_top_bar_top_bar_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/top-bar/top-bar.component */ "./src/app/components/top-bar/top-bar.component.ts");
/* harmony import */ var _components_side_bar_side_bar_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./components/side-bar/side-bar.component */ "./src/app/components/side-bar/side-bar.component.ts");
/* harmony import */ var _components_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./components/dashboard/dashboard.component */ "./src/app/components/dashboard/dashboard.component.ts");
/* harmony import */ var _components_activities_activities_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./components/activities/activities.component */ "./src/app/components/activities/activities.component.ts");
/* harmony import */ var _components_users_users_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./components/users/users.component */ "./src/app/components/users/users.component.ts");
/* harmony import */ var _components_user_activities_user_activities_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./components/user-activities/user-activities.component */ "./src/app/components/user-activities/user-activities.component.ts");
/* harmony import */ var _components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./components/dialog/dialog.component */ "./src/app/components/dialog/dialog.component.ts");
/* harmony import */ var _components_login_login_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/login/login.component */ "./src/app/components/login/login.component.ts");
/* harmony import */ var _components_activity_details_activity_details_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/activity-details/activity-details.component */ "./src/app/components/activity-details/activity-details.component.ts");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _agm_core__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @agm/core */ "./node_modules/@agm/core/index.js");
/* harmony import */ var ng2_img_max__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ng2-img-max */ "./node_modules/ng2-img-max/dist/ng2-img-max.js");
/* harmony import */ var _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @auth0/angular-jwt */ "./node_modules/@auth0/angular-jwt/index.js");
/* harmony import */ var _components_user_details_user_details_component__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./components/user-details/user-details.component */ "./src/app/components/user-details/user-details.component.ts");
/* harmony import */ var _components_allusers_allusers_component__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./components/allusers/allusers.component */ "./src/app/components/allusers/allusers.component.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





// Angular Material





















// Reactive forms


// Angular google map

// Angular image compress and edit

// Angular authentification



var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            declarations: [
                _app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"],
                _components_top_bar_top_bar_component__WEBPACK_IMPORTED_MODULE_16__["TopBarComponent"],
                _components_side_bar_side_bar_component__WEBPACK_IMPORTED_MODULE_17__["SideBarComponent"],
                _components_dashboard_dashboard_component__WEBPACK_IMPORTED_MODULE_18__["DashboardComponent"],
                _components_activities_activities_component__WEBPACK_IMPORTED_MODULE_19__["ActivitiesComponent"],
                _components_users_users_component__WEBPACK_IMPORTED_MODULE_20__["UsersComponent"],
                _components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_22__["DialogComponent"],
                _components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_22__["DialogContentComponent"],
                _components_user_activities_user_activities_component__WEBPACK_IMPORTED_MODULE_21__["UserActivitiesComponent"],
                _components_login_login_component__WEBPACK_IMPORTED_MODULE_23__["LoginComponent"],
                _components_activity_details_activity_details_component__WEBPACK_IMPORTED_MODULE_24__["ActivityDetailsComponent"],
                _components_user_profile_user_profile_component__WEBPACK_IMPORTED_MODULE_15__["UserProfileComponent"],
                _components_user_details_user_details_component__WEBPACK_IMPORTED_MODULE_29__["UserDetailsComponent"],
                _components_allusers_allusers_component__WEBPACK_IMPORTED_MODULE_30__["AllusersComponent"]
            ],
            entryComponents: [_components_dialog_dialog_component__WEBPACK_IMPORTED_MODULE_22__["DialogContentComponent"]],
            imports: [
                _angular_common_http__WEBPACK_IMPORTED_MODULE_2__["HttpClientModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_25__["ReactiveFormsModule"],
                _angular_forms__WEBPACK_IMPORTED_MODULE_25__["FormsModule"],
                _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
                _app_routing_module__WEBPACK_IMPORTED_MODULE_3__["AppRoutingModule"],
                _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_5__["BrowserAnimationsModule"],
                _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_7__["MatSidenavModule"],
                _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_8__["MatCheckboxModule"],
                _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_9__["MatToolbarModule"],
                _angular_material_dialog__WEBPACK_IMPORTED_MODULE_10__["MatDialogModule"],
                _angular_material_form_field__WEBPACK_IMPORTED_MODULE_11__["MatFormFieldModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatInputModule"],
                _angular_material_snack_bar__WEBPACK_IMPORTED_MODULE_12__["MatSnackBarModule"],
                _angular_material_datepicker__WEBPACK_IMPORTED_MODULE_13__["MatDatepickerModule"],
                _angular_material__WEBPACK_IMPORTED_MODULE_6__["MatNativeDateModule"],
                _angular_material_select__WEBPACK_IMPORTED_MODULE_14__["MatSelectModule"],
                _agm_core__WEBPACK_IMPORTED_MODULE_26__["AgmCoreModule"].forRoot({
                    apiKey: 'AIzaSyDBNBmRlzQDTVzB07XLJbuusxIh84qXOOg'
                }),
                ng2_img_max__WEBPACK_IMPORTED_MODULE_27__["Ng2ImgMaxModule"],
                _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_28__["JwtModule"].forRoot({
                    config: {
                        tokenGetter: jwtTokenGetter,
                        whitelistedDomains: ['localhost:3001'],
                        blacklistedRoutes: ['localhost:3001/auth/']
                    }
                })
            ],
            providers: [],
            bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_4__["AppComponent"]]
        })
    ], AppModule);
    return AppModule;
}());

function jwtTokenGetter() {
    return localStorage.getItem('token');
}


/***/ }),

/***/ "./src/app/components/activities/activities.component.css":
/*!****************************************************************!*\
  !*** ./src/app/components/activities/activities.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".top-controls{\r\n    padding: 20px;\r\n    display: -webkit-inline-box;\r\n    float: right\r\n}"

/***/ }),

/***/ "./src/app/components/activities/activities.component.html":
/*!*****************************************************************!*\
  !*** ./src/app/components/activities/activities.component.html ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"activities-content\">\r\n    <h1>Activities list<i class=\"clipboard list icon\"></i></h1>\r\n    <div class=\"ui divider\"></div>\r\n    <div class=\"top-controls\" style=\"text-align: right; padding: 20px;\">\r\n        Table size:\r\n        <select class=\"ui dropdown\" (change)=\"setPageSize($event)\">\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option selected=\"selected\">5</option>\r\n            <option value=\"6\">6</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"8\">8</option>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"10\">10</option>\r\n        </select>\r\n        <button class=\"ui labeled icon button\" (click)=\"openModal({mode: 'addActivity', obj: null})\" style=\"margin-left: 50px;\">\r\n            <i class=\"add icon\"></i>\r\n            Add\r\n        </button>\r\n        <div class=\"ui search\" style=\"margin-left: 15px;\">\r\n            <div class=\"ui icon input\">\r\n                <input (keyup)=\"onKey($event)\"/> <i class=\"search icon\"></i>\r\n            </div>\r\n        </div>\r\n        <button (click)=\"search()\" class=\"ui button\" style=\"margin-left: 10px;\">Search</button>\r\n    </div>\r\n\r\n    <div class=\"table-content\">\r\n        <table class=\"ui celled table\">\r\n            <thead>\r\n                <tr>\r\n                    <th>Title</th>\r\n                    <th>Decription</th>\r\n                    <th>Start date</th>\r\n                    <th>End date</th>\r\n                    <th></th>\r\n                    <th></th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor='let activity of activities'>\r\n                    <td>{{ activity.title }}</td>\r\n                    <td>{{ activity.description }}</td>\r\n                    <td [innerHtml]=\"timeConverter(activity.timestampStart)\"></td>\r\n                    <td [innerHtml]=\"timeConverter(activity.timestampEnd)\"></td>\r\n                    <td style=\"text-align: center\"><button class=\"ui icon green button\" (click)=\"showDetails(activity.id)\">\r\n                            <i class=\"th list icon\"></i>\r\n                        </button></td>\r\n                    <td style=\"text-align: center\"><button class=\"ui icon red button\" (click)=\"openModal({mode: 'deleteActivity', obj: activity})\">\r\n                            <i class=\"trash icon\"></i>\r\n                        </button></td>\r\n                    <td style=\"text-align: center\"><button class=\"ui icon button\" (click)=\"openModal({mode: 'editActivity', obj: activity})\">\r\n                            <i class=\"edit icon\"></i>\r\n                        </button></td>\r\n                </tr>\r\n            </tbody>\r\n            <tfoot>\r\n                <tr>\r\n                    <th colspan=\"7\">\r\n                        <app-dialog></app-dialog>\r\n                        <div class=\"ui right floated pagination menu\">\r\n                            <a class=\"icon item\">\r\n                                <i class=\"left chevron icon\"></i>\r\n                            </a>\r\n                            <a class=\"item\" *ngFor=\"let loop of loopTimes\" (click)=\"getFilteredActivities(loop)\">{{loop\r\n                                +\r\n                                1}}</a>\r\n                            <a class=\"icon item\">\r\n                                <i class=\"right chevron icon\"></i>\r\n                            </a>\r\n                        </div>\r\n                    </th>\r\n                </tr>\r\n            </tfoot>\r\n        </table>\r\n        <!--app-snack-bar></app-snack-bar-->\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/activities/activities.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/components/activities/activities.component.ts ***!
  \***************************************************************/
/*! exports provided: ActivitiesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivitiesComponent", function() { return ActivitiesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/dialog/dialog.service */ "./src/app/services/dialog/dialog.service.ts");
/* harmony import */ var _services_activities_activities_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/activities/activities.service */ "./src/app/services/activities/activities.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_messages_messages_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/messages/messages.service */ "./src/app/services/messages/messages.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ActivitiesComponent = /** @class */ (function () {
    function ActivitiesComponent(dialogService, activitiesService, router, messageService) {
        this.dialogService = dialogService;
        this.activitiesService = activitiesService;
        this.router = router;
        this.messageService = messageService;
        this.activities = [];
        this.inSearch = false;
    }
    ActivitiesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.activitiesService.countTotalActivities().subscribe(function (totalActivities) {
            _this.totalActivities = totalActivities.count;
            _this.activitiesService.setTotalActivities(totalActivities.count);
            _this.getFilteredActivities(0);
        });
        // auto reaload the activities content
        var source = Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["interval"])(1000 * 30);
        var subscribe = source.subscribe(function (val) {
            if (!_this.inSearch) {
                _this.getFilteredActivities(_this.activitiesService.getCurrentPageNumber());
            }
        });
        this.activitiesService.activity$.subscribe(function (mode) {
            console.log('MODE: ', mode);
            if (mode === 'added') {
                _this.getFilteredActivities(0);
            }
            else if (mode === 'updated') {
                _this.getFilteredActivities(_this.activitiesService.getCurrentPageNumber());
            }
            else if (mode === 'deleted') {
                _this.getFilteredActivities(_this.activitiesService.getCurrentPageNumber());
            }
        });
    };
    ActivitiesComponent.prototype.timeConverter = function (UNIX_timestamp) {
        var a = new Date(UNIX_timestamp);
        var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        var year = a.getFullYear();
        var month = months[a.getMonth()];
        var date = a.getDate();
        var hour = a.getHours();
        var min = a.getMinutes();
        var sec = a.getSeconds();
        var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec;
        return time;
    };
    ActivitiesComponent.prototype.setPageSize = function (event) {
        var numPerPage = event.target.value;
        this.activitiesService.setCurrentPageSize(numPerPage);
        this.getFilteredActivities(0);
    };
    ActivitiesComponent.prototype.getFilteredActivities = function (pageNumber) {
        var _this = this;
        // console.log('pagenumber = ', pageNumber);
        // console.log('currentpage = ', this.activitiesService.getCurrentPageNumber());
        // console.log('currentpagesize = ', this.activitiesService.getCurrentPageSize());
        this.activitiesService.setCurrentPageNumber(pageNumber);
        this.activitiesService
            .getActivitiesByParams(this.activitiesService.getCurrentPageNumber() * this.activitiesService.getCurrentPageSize(), this.activitiesService.getCurrentPageSize())
            .subscribe(function (res) {
            if (_this.messageService.getExists()) {
                _this.dialogService.openDialog({
                    mode: 'infoDialog',
                    obj: _this.messageService.getMessage()
                });
                _this.messageService.setMessage(null);
            }
            else {
                var totalPage = Math.ceil(Number(_this.totalActivities) /
                    _this.activitiesService.getCurrentPageSize());
                _this.activitiesService.setTotalActivities(_this.totalActivities);
                _this.loopTimes = Array(totalPage)
                    .fill(0)
                    .map(function (x, i) { return i; });
                _this.activities = res;
            }
        });
    };
    ActivitiesComponent.prototype.onKey = function (event) {
        var _this = this;
        this.searchedName = event.target.value;
        if (this.searchedName === '') {
            this.activitiesService.countTotalActivities().subscribe(function (totalActivities) {
                _this.totalActivities = totalActivities.count;
                _this.activitiesService.countTotalActivities();
                _this.getFilteredActivities(0);
                _this.inSearch = false;
            });
        }
    };
    ActivitiesComponent.prototype.search = function () {
        var _this = this;
        this.inSearch = true;
        this.activitiesService.searchActByTitle(this.searchedName).subscribe(function (res) {
            _this.activities = res;
            _this.totalActivities = res.length;
            var totalPage = Math.ceil(Number(_this.totalActivities) /
                _this.activitiesService.getCurrentPageSize());
            _this.activitiesService.setTotalActivities(_this.totalActivities);
            _this.loopTimes = Array(totalPage)
                .fill(0)
                .map(function (x, i) { return i; });
        });
    };
    ActivitiesComponent.prototype.openModal = function (mode) {
        this.dialogService.openDialog(mode);
    };
    ActivitiesComponent.prototype.showDetails = function (id) {
        this.router.navigate(['/activities', id]);
    };
    ActivitiesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-activities',
            template: __webpack_require__(/*! ./activities.component.html */ "./src/app/components/activities/activities.component.html"),
            styles: [__webpack_require__(/*! ./activities.component.css */ "./src/app/components/activities/activities.component.css")]
        }),
        __metadata("design:paramtypes", [_services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_1__["DialogService"],
            _services_activities_activities_service__WEBPACK_IMPORTED_MODULE_2__["ActivitiesService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            src_app_services_messages_messages_service__WEBPACK_IMPORTED_MODULE_4__["MessagesService"]])
    ], ActivitiesComponent);
    return ActivitiesComponent;
}());



/***/ }),

/***/ "./src/app/components/activity-details/activity-details.component.css":
/*!****************************************************************************!*\
  !*** ./src/app/components/activity-details/activity-details.component.css ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "agm-map {\r\n    height: 700px;\r\n}"

/***/ }),

/***/ "./src/app/components/activity-details/activity-details.component.html":
/*!*****************************************************************************!*\
  !*** ./src/app/components/activity-details/activity-details.component.html ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1>Activity details:</h1>\r\n\r\n<table class=\"ui definition table\">\r\n    <tbody *ngIf=\"activitySelected\">\r\n        <tr>\r\n            <td class=\"two wide column\">Activity title</td>\r\n            <td>\r\n                <p>{{ activitySelected.title }}</p>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity description</td>\r\n            <td>\r\n                <p>{{ activitySelected.description }}</p>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity rating</td>\r\n            <td>\r\n                <p>{{ activitySelected.rating }}</p>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity location</td>\r\n            <td>\r\n                <p>{{ completeStreetName }}</p>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity start</td>\r\n            <td [innerHtml]=\"timeConverter(activitySelected.timestampStart)\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity end</td>\r\n            <td [innerHtml]=\"timeConverter(activitySelected.timestampEnd)\"></td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity participants</td>\r\n            <td>\r\n                <ul *ngFor=\"let p of participants\">\r\n                    <li><span style=\"color: red\">Email: </span>{{p.email}}</li>\r\n                    <li><span style=\"color: red\">Name: </span>{{p.name}}</li>\r\n                </ul>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity activity type</td>\r\n            <td>\r\n                <p>{{ activitySelected.activityType }}</p>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity capacity</td>\r\n            <td>\r\n                <p>{{ activitySelected.capacity }}</p>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity price</td>\r\n            <td>\r\n                <p>{{ activitySelected.price }}</p>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class=\"two wide column\">Activity images:</td>\r\n            <td>\r\n                <div>\r\n                    <ul *ngFor=\"let i of activitySelected.images\">\r\n                        <li style=\"list-style-type: none;\">\r\n                            <img src=\"{{ activitySelected.images }}\" height=\"100px\" width=\"100px\">\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n\r\n    </tbody>\r\n</table>\r\n\r\n<div class=\"agm-map\">\r\n    <!-- Center of the map -->\r\n    <agm-map [zoom]=\"zoom\" [latitude]=\"iniLat\" [longitude]=\"iniLng\" [scrollwheel]=\"true\">\r\n        <!-- Markers -->\r\n        <agm-marker [latitude]=iniLat [longitude]=iniLng>\r\n            <agm-info-window *ngIf=\"activitySelected\">\r\n                <p><strong style=\"color: red;\">Title:</strong> {{ activitySelected.title }}</p>\r\n                <p><strong style=\"color: red;\">Description:</strong> {{ activitySelected.description }}</p>\r\n                <strong style=\"color: red;\">Start:</strong><p [innerHtml]=\"timeConverter(activitySelected.timestampStart)\"></p>\r\n                <strong style=\"color: red;\">End:</strong><p [innerHtml]=\"timeConverter(activitySelected.timestampEnd)\"></p>\r\n            </agm-info-window>\r\n        </agm-marker>\r\n    </agm-map>\r\n</div>\r\n\r\n<div class=\"ui left aligned basic segment\">\r\n    <button class=\"ui centered aligned button\" (click)=\"goBack()\">Back</button>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/activity-details/activity-details.component.ts":
/*!***************************************************************************!*\
  !*** ./src/app/components/activity-details/activity-details.component.ts ***!
  \***************************************************************************/
/*! exports provided: ActivityDetailsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivityDetailsComponent", function() { return ActivityDetailsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_activities_activities_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/activities/activities.service */ "./src/app/services/activities/activities.service.ts");
/* harmony import */ var src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var src_app_services_reverseGeocoding_reverse_geocoding_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/reverseGeocoding/reverse-geocoding.service */ "./src/app/services/reverseGeocoding/reverse-geocoding.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var ActivityDetailsComponent = /** @class */ (function () {
    function ActivityDetailsComponent(activatedRoute, activitiesServices, router, userService, reverseGeocodingService) {
        this.activatedRoute = activatedRoute;
        this.activitiesServices = activitiesServices;
        this.router = router;
        this.userService = userService;
        this.reverseGeocodingService = reverseGeocodingService;
        this.usersID = [];
        this.participants = [];
        this.zoom = 16;
    }
    ActivityDetailsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.sub = this.activatedRoute.params.subscribe(function (params) {
            _this.id = params['id'];
        });
        this.activitiesServices.getActivity(this.id).subscribe(function (act) {
            _this.activitySelected = act;
            _this.iniLat = _this.activitySelected.lat;
            _this.iniLng = _this.activitySelected.long;
            _this.usersID = act.participants;
            _this.usersID.forEach(function (userID) {
                _this.userService.getUserInfo(userID).subscribe(function (res) {
                    _this.participants.push({
                        email: res.email,
                        name: res.completeName
                    });
                });
                // console.log('participants name:', this.participants);
            });
            // show the street name with the lat and long
            _this.reverseGeocodingService
                .convertToStreet(_this.activitySelected.lat, _this.activitySelected.long)
                .subscribe(function (res) {
                _this.completeStreetName = res.results[0].formatted_address;
            });
        });
    };
    ActivityDetailsComponent.prototype.ngOnDestroy = function () {
        this.sub.unsubscribe();
    };
    ActivityDetailsComponent.prototype.goBack = function () {
        this.router.navigate(['/activities']);
    };
    ActivityDetailsComponent.prototype.timeConverter = function (UNIX_timestamp) {
        var a = new Date(UNIX_timestamp * 1000);
        var months = [
            'Jan',
            'Feb',
            'Mar',
            'Apr',
            'May',
            'Jun',
            'Jul',
            'Aug',
            'Sep',
            'Oct',
            'Nov',
            'Dec'
        ];
        var year = a.getFullYear();
        var month = months[a.getMonth()];
        var date = a.getDate();
        var hour = a.getHours();
        var min = a.getMinutes();
        var sec = a.getSeconds();
        var time = date +
            ' ' +
            month +
            ' ' +
            year +
            ' ' +
            hour +
            ':' +
            min +
            ':' +
            sec;
        return time;
    };
    ActivityDetailsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-activity-details',
            template: __webpack_require__(/*! ./activity-details.component.html */ "./src/app/components/activity-details/activity-details.component.html"),
            styles: [__webpack_require__(/*! ./activity-details.component.css */ "./src/app/components/activity-details/activity-details.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
            src_app_services_activities_activities_service__WEBPACK_IMPORTED_MODULE_2__["ActivitiesService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
            src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_3__["UserService"],
            src_app_services_reverseGeocoding_reverse_geocoding_service__WEBPACK_IMPORTED_MODULE_4__["ReverseGeocodingService"]])
    ], ActivityDetailsComponent);
    return ActivityDetailsComponent;
}());



/***/ }),

/***/ "./src/app/components/allusers/allusers.component.css":
/*!************************************************************!*\
  !*** ./src/app/components/allusers/allusers.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "agm-map {\r\n    height: 700px;\r\n}\r\n\r\n.controlPanel {\r\n    margin-top: 20px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/components/allusers/allusers.component.html":
/*!*************************************************************!*\
  !*** ./src/app/components/allusers/allusers.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1>All Users Location <i class=\"globe icon\"></i></h1>\r\n<div class=\"agm-map\">\r\n    <app-dialog></app-dialog>\r\n    <!-- Center of the map -->\r\n    <agm-map [zoom]=\"zoom\" [latitude]=\"initLat\" [longitude]=\"initLong\" [scrollwheel]=\"true\" (mapClick)=\"mapclicked($event)\">\r\n        <!-- Markers -->\r\n        <agm-marker *ngFor=\"let p of allUsers;\" [latitude]=p.place.lat [longitude]=p.place.long>\r\n            <agm-info-window>\r\n                <p><strong>Latitude:</strong> {{ p.place.lat }}</p>\r\n                <p><strong>Longitude:</strong> {{ p.place.long }}</p>\r\n                <p><strong>Username:</strong> {{ p.username }}</p>\r\n                <p><strong>Emergency Contacts:</strong> \r\n                    <li *ngFor=\"let c of p.contactPhones;\">\r\n                     {{c.alias}} : {{c.phone}}\r\n                    </li>  \r\n            </agm-info-window>\r\n        </agm-marker> \r\n    </agm-map>\r\n</div>"

/***/ }),

/***/ "./src/app/components/allusers/allusers.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/components/allusers/allusers.component.ts ***!
  \***********************************************************/
/*! exports provided: AllusersComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AllusersComponent", function() { return AllusersComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_reverseGeocoding_reverse_geocoding_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/reverseGeocoding/reverse-geocoding.service */ "./src/app/services/reverseGeocoding/reverse-geocoding.service.ts");
/* harmony import */ var _services_activities_activities_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/activities/activities.service */ "./src/app/services/activities/activities.service.ts");
/* harmony import */ var _services_userLocation_user_location_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/userLocation/user-location.service */ "./src/app/services/userLocation/user-location.service.ts");
/* harmony import */ var src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/entity/entity.service */ "./src/app/services/entity/entity.service.ts");
/* harmony import */ var src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/app/services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var src_app_services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/app/services/dialog/dialog.service */ "./src/app/services/dialog/dialog.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var AllusersComponent = /** @class */ (function () {
    function AllusersComponent(reverseGeoService, activityService, userLocationService, entityService, userService, dialogService) {
        this.reverseGeoService = reverseGeoService;
        this.activityService = activityService;
        this.userLocationService = userLocationService;
        this.entityService = entityService;
        this.userService = userService;
        this.dialogService = dialogService;
        // google maps zoom level
        this.zoom = 13;
        this.locationsOfUser = [];
        this.allUsers = [];
    }
    AllusersComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.verify().subscribe(function (resv) {
            _this.entityid = resv.entity;
            // console.log('Id entity', this.entityid);
            _this.entityService
                .getEntityInfo({ id: _this.entityid })
                .subscribe(function (rese) {
                _this.initLat = rese.place.lat;
                // console.log('Tinc lat', this.initLat);
                _this.initLong = rese.place.long;
                // console.log('Tinc long', this.initLong);
            });
            // console.log('Tinc id entitat', this.entityid);
            _this.entityService.getAllUsersOfMyEntity().subscribe(function (emer) {
                _this.allUsers = emer;
                console.log('tinc un array de length ', _this.allUsers.length);
            });
            var source = Object(rxjs__WEBPACK_IMPORTED_MODULE_7__["interval"])(1000 * 30);
            var subscribe = source.subscribe(function (val) {
                _this.entityService.getAllUsersOfMyEntity().subscribe(function (emer) {
                    _this.allUsers = emer;
                    console.log('tinc un array de length ', _this.allUsers.length);
                });
            });
        });
    };
    AllusersComponent.prototype.mapclicked = function ($event) {
        // console.log($event);
    };
    AllusersComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-allusers',
            template: __webpack_require__(/*! ./allusers.component.html */ "./src/app/components/allusers/allusers.component.html"),
            styles: [__webpack_require__(/*! ./allusers.component.css */ "./src/app/components/allusers/allusers.component.css")]
        }),
        __metadata("design:paramtypes", [_services_reverseGeocoding_reverse_geocoding_service__WEBPACK_IMPORTED_MODULE_1__["ReverseGeocodingService"],
            _services_activities_activities_service__WEBPACK_IMPORTED_MODULE_2__["ActivitiesService"],
            _services_userLocation_user_location_service__WEBPACK_IMPORTED_MODULE_3__["UserLocationService"],
            src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_4__["EntityService"],
            src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"],
            src_app_services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_6__["DialogService"]])
    ], AllusersComponent);
    return AllusersComponent;
}());



/***/ }),

/***/ "./src/app/components/dashboard/dashboard.component.css":
/*!**************************************************************!*\
  !*** ./src/app/components/dashboard/dashboard.component.css ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".countNumber {\r\n    font-size: 30px;\r\n    line-height: 47px;\r\n    font-weight: 600;\r\n    color: #87CEEB;\r\n}\r\n\r\n#box1 {\r\n    border: 1px solid #000000;\r\n    margin-top: 50px;\r\n    margin-left: 80px;\r\n    margin-right: 80px;\r\n    margin-bottom: 80px;\r\n}\r\n\r\n#box2 {\r\n    border: 1px solid #000000;\r\n    margin-left: 80px;\r\n    margin-right: 80px;\r\n    margin-bottom: 80px;\r\n}\r\n\r\n#myChart {\r\n    height: 100px;\r\n    width: 50px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/components/dashboard/dashboard.component.html":
/*!***************************************************************!*\
  !*** ./src/app/components/dashboard/dashboard.component.html ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"ui grid\" id='box1'>\r\n    <div class=\"four wide column\">\r\n        <div class=\"totalUsers\">\r\n            <i class=\"user icon\" style=\"white-space: nowrap;\"> Total Users</i>\r\n            <p class='countNumber'>{{ totalUser }}</p>\r\n        </div>\r\n    </div>\r\n    <div class=\"four wide column\">\r\n        <div class=\"totalActivities\">\r\n            <i class=\"game icon\" style=\"white-space: nowrap;\"> Total Activities</i>\r\n            <p class='countNumber'>{{ totalAct }}</p>\r\n        </div>\r\n    </div>\r\n    <div class=\"four wide column\">\r\n        <div class=\"totalActivities\">\r\n            <i class=\"chess queen icon\" style=\"white-space: nowrap;\"> Total Achievements</i>\r\n            <p class='countNumber'>{{ totalAchievements }}</p>\r\n        </div>\r\n    </div>\r\n    <div class=\"four wide column\">\r\n        <div class=\"totalConnections\">\r\n            <i class=\"world icon\" style=\"white-space: nowrap;\"> Total Connections</i>\r\n            <p class='countNumber'>{{ totalCon }}</p>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class='ui grid' id='box2'>\r\n    <div class=\"eight wide column\">\r\n        <canvas id=\"myChart\"></canvas>\r\n    </div>\r\n    <div class=\"eight wide column\">\r\n        <canvas id=\"myChart2\"></canvas>\r\n    </div>\r\n    <div class=\"eight wide column\">\r\n        <canvas id=\"myChart3\"></canvas>\r\n    </div>\r\n    <div class=\"eight wide column\">\r\n        <canvas id=\"myChart4\"></canvas>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/dashboard/dashboard.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/components/dashboard/dashboard.component.ts ***!
  \*************************************************************/
/*! exports provided: DashboardComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DashboardComponent", function() { return DashboardComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! chart.js */ "./node_modules/chart.js/src/chart.js");
/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(chart_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var src_app_services_activities_activities_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/activities/activities.service */ "./src/app/services/activities/activities.service.ts");
/* harmony import */ var src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/entity/entity.service */ "./src/app/services/entity/entity.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = y[op[0] & 2 ? "return" : op[0] ? "throw" : "next"]) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [0, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};






var DashboardComponent = /** @class */ (function () {
    function DashboardComponent(userService, actService, entityService, router) {
        this.userService = userService;
        this.actService = actService;
        this.entityService = entityService;
        this.router = router;
        this.chart = [];
        this.entityStatsTypeAct = {};
        this.entityStatsHours = {};
        this.entityStatsAchievementsPerName = {};
        this.entityStatsAchievementsPerType = {};
        this.entityTypeActKeys = [];
        this.entityTypeActValues = [];
        this.entityHoursActKeys = [];
        this.entityHoursActValues = [];
        this.entityAchievementsPerNameKeys = [];
        this.entityAchievementsPerNameValues = [];
        this.entityAchievementsPerTypeKeys = [];
        this.entityAchievementsPerTypeValues = [];
        this.allBorderColors = [
            'rgba(183, 28, 28, 1)',
            'rgba(136, 14, 79, 1)',
            'rgba(74, 20, 140, 1)',
            'rgba(26, 35, 126, 1)',
            'rgba(13, 71, 161, 1)',
            'rgba(0, 96, 100, 1)',
            'rgba(0, 77, 64, 1)',
            'rgba(27, 94, 32, 1)',
            'rgba(130, 119, 23, 1)',
            'rgba(245, 127, 23, 1)',
            'rgba(230, 81, 0, 1)',
            'rgba(62, 39, 35, 1)'
        ];
        this.allBackgroundColors = [
            'rgba(183, 28, 28, 0.2)',
            'rgba(136, 14, 79, 0.2)',
            'rgba(74, 20, 140, 0.2)',
            'rgba(26, 35, 126, 0.2)',
            'rgba(13, 71, 161, 0.2)',
            'rgba(0, 96, 100, 0.2)',
            'rgba(0, 77, 64, 0.2)',
            'rgba(27, 94, 32, 0.2)',
            'rgba(130, 119, 23, 0.2)',
            'rgba(245, 127, 23, 0.2)',
            'rgba(230, 81, 0, 0.2)',
            'rgba(62, 39, 35, 0.2)'
        ];
    }
    DashboardComponent.prototype.delay = function (ms) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(function () { return resolve(); }, ms); }).then(function () {
                            return console.log('fired');
                        })];
                    case 1:
                        _a.sent();
                        return [2 /*return*/];
                }
            });
        });
    };
    DashboardComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.verify().subscribe(function (userInfo) {
            _this.entityId = userInfo.entity;
            // console.log('entityID: ', this.entityId);
            _this.entityService
                .getEntityStatisticsActivities(_this.entityId)
                .subscribe(function (entityInfo) {
                // console.log('entityInfo: ', entityInfo);
                if (entityInfo !== undefined) {
                    _this.entityStatsTypeAct = entityInfo.types;
                    _this.entityStatsHours = entityInfo.hours;
                    _this.entityTypeActKeys = Object.keys(_this.entityStatsTypeAct);
                    _this.entityTypeActValues = Object.values(_this.entityStatsTypeAct);
                    _this.entityHoursActKeys = Object.keys(_this.entityStatsHours);
                    _this.entityHoursActValues = Object.values(_this.entityStatsHours);
                    _this.totalAct = entityInfo.nActivities;
                    _this.size1 = _this.entityTypeActKeys.length;
                    var borderColorsPick_1 = [];
                    var backgroundColorsPick_1 = [];
                    for (var i = 0; i < _this.size1; i++) {
                        borderColorsPick_1[i] = _this.allBorderColors[i];
                        backgroundColorsPick_1[i] = _this.allBackgroundColors[i];
                        // console.log('Border Pick tenim', borderColorsPick[i]);
                        // console.log('Back Pick tenim', borderColorsPick[i]);
                    }
                    _this.chart = new chart_js__WEBPACK_IMPORTED_MODULE_1__["Chart"]('myChart', {
                        type: 'bar',
                        data: {
                            labels: _this.entityTypeActKeys,
                            datasets: [
                                {
                                    label: '# of Activities per Theme',
                                    data: _this.entityTypeActValues,
                                    backgroundColor: backgroundColorsPick_1,
                                    borderColor: borderColorsPick_1,
                                    borderWidth: 1
                                }
                            ]
                        },
                        options: {
                            scales: {
                                yAxes: [
                                    {
                                        ticks: {
                                            beginAtZero: true
                                        }
                                    }
                                ]
                            }
                        }
                    });
                    _this.chart = new chart_js__WEBPACK_IMPORTED_MODULE_1__["Chart"]('myChart2', {
                        type: 'line',
                        data: {
                            labels: _this.entityHoursActKeys,
                            datasets: [
                                {
                                    label: '# Activities per hour',
                                    data: _this.entityHoursActValues,
                                    backgroundColor: [
                                        'rgba(255, 99, 132, 0.2)'
                                    ],
                                    borderColor: ['rgba(255,99,132,1)'],
                                    borderWidth: 1
                                }
                            ]
                        },
                        options: {
                            scales: {
                                yAxes: [
                                    {
                                        ticks: {
                                            beginAtZero: true
                                        }
                                    }
                                ]
                            }
                        }
                    });
                    _this.entityService
                        .getEntityStatisticsUsers(_this.entityId)
                        .subscribe(function (users) {
                        _this.totalUser = users.nRegisteredUsers;
                        // console.log('que tinc a Total Users', this.totalUser);
                    });
                    _this.entityService
                        .getTotalConnections(_this.entityId)
                        .subscribe(function (con) {
                        _this.totalCon = con.nConnections;
                    });
                    _this.entityService
                        .getEntityStatisticsAchievements(_this.entityId)
                        .subscribe(function (achievements) {
                        _this.totalAchievements =
                            achievements.nAchievements;
                        _this.entityStatsAchievementsPerName =
                            achievements.achievementsPerName;
                        _this.entityStatsAchievementsPerType =
                            achievements.achievementsPerType;
                        _this.entityAchievementsPerNameKeys = Object.keys(_this.entityStatsAchievementsPerName);
                        _this.entityAchievementsPerNameValues = Object.values(_this.entityStatsAchievementsPerName);
                        _this.entityAchievementsPerTypeKeys = Object.keys(_this.entityStatsAchievementsPerType);
                        _this.entityAchievementsPerTypeValues = Object.values(_this.entityStatsAchievementsPerType);
                        _this.chart = new chart_js__WEBPACK_IMPORTED_MODULE_1__["Chart"]('myChart3', {
                            type: 'bar',
                            data: {
                                labels: _this
                                    .entityAchievementsPerNameKeys,
                                datasets: [
                                    {
                                        label: '# Achievements per name',
                                        data: _this
                                            .entityAchievementsPerNameValues,
                                        backgroundColor: backgroundColorsPick_1,
                                        borderColor: borderColorsPick_1,
                                        borderWidth: 1
                                    }
                                ]
                            },
                            options: {
                                scales: {
                                    yAxes: [
                                        {
                                            ticks: {
                                                beginAtZero: true
                                            }
                                        }
                                    ]
                                }
                            }
                        });
                        _this.chart = new chart_js__WEBPACK_IMPORTED_MODULE_1__["Chart"]('myChart4', {
                            type: 'bar',
                            data: {
                                labels: _this
                                    .entityAchievementsPerTypeKeys,
                                datasets: [
                                    {
                                        label: '# Achievements per type',
                                        data: _this
                                            .entityAchievementsPerTypeValues,
                                        backgroundColor: backgroundColorsPick_1,
                                        borderColor: borderColorsPick_1,
                                        borderWidth: 1
                                    }
                                ]
                            },
                            options: {
                                scales: {
                                    yAxes: [
                                        {
                                            ticks: {
                                                beginAtZero: true
                                            }
                                        }
                                    ]
                                }
                            }
                        });
                    });
                }
            });
        });
    };
    DashboardComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-dashboard',
            template: __webpack_require__(/*! ./dashboard.component.html */ "./src/app/components/dashboard/dashboard.component.html"),
            styles: [__webpack_require__(/*! ./dashboard.component.css */ "./src/app/components/dashboard/dashboard.component.css")]
        }),
        __metadata("design:paramtypes", [src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"],
            src_app_services_activities_activities_service__WEBPACK_IMPORTED_MODULE_3__["ActivitiesService"],
            src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_4__["EntityService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"]])
    ], DashboardComponent);
    return DashboardComponent;
}());



/***/ }),

/***/ "./src/app/components/dialog/dialog-content.html":
/*!*******************************************************!*\
  !*** ./src/app/components/dialog/dialog-content.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"content-panel\">\r\n    <div class=\"infoDialog\" *ngIf=\"data.mode === 'infoDialog'\" style=\"text-align: center\">\r\n        <div class=\"content-panel\">\r\n            <div class=\"ui icon header\">\r\n                Message:\r\n            </div>\r\n            <div class=\"content\">\r\n                {{ data.obj }}\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!--Dialog title-->\r\n<div *ngIf=\"data.mode === 'addActivity' || data.mode === 'editActivity' || data.mode === 'deleteActivity' || data.mode === 'editUserInfo'\r\n    || data.mode === 'addEmergencyContact'\">\r\n    <h1 *ngIf=\"data.mode === 'addActivity'\">Add activity:</h1>\r\n    <h1 *ngIf=\"data.mode === 'editActivity'\">Edit activity:</h1>\r\n    <h1 *ngIf=\"data.mode === 'deleteActivity'\">Delete activity:</h1>\r\n    <h1 *ngIf=\"data.mode === 'editUserInfo'\">Edit User Information:</h1>\r\n    <h1 *ngIf=\"data.mode === 'addEmergencyContact'\">Add emergency contact:</h1>\r\n    <div class=\"ui divider\"></div>\r\n</div>\r\n\r\n<div *ngIf=\"data.mode === 'addActivity' || data.mode === 'editActivity' || data.mode\">\r\n    <div class=\"ui form\">\r\n        <form [formGroup]=\"activityForm\" *ngIf=\"data.mode === 'addActivity' || data.mode === 'editActivity'\">\r\n            <div class=\"field\">\r\n                <div class=\"one fields\">\r\n                    <div class=\"sixteen wide field\">\r\n                        <label style=\"text-align: left\">\r\n                            Title:\r\n                            <input type=\"text\" formControlName=\"title\">\r\n                        </label>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('title').invalid && activityForm.get('title').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Must be > 3</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"four fields\">\r\n                    <div class=\"field\">\r\n                        <label style=\"text-align: left\">\r\n                            Start Date:\r\n                            <mat-form-field style=\"width: 120px;\">\r\n                                <input matInput [matDatepicker]=\"picker\" (dateInput)=\"addDate('start', $event)\"\r\n                                    formControlName=\"dateStart\">\r\n                                <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\r\n                                <mat-datepicker #picker></mat-datepicker>\r\n                            </mat-form-field>\r\n                        </label>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('dateStart').invalid && activityForm.get('dateStart').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field\">\r\n                        <label style=\"text-align: left\">\r\n                            Start Time:\r\n                        </label>\r\n                        <div class=\"ui input left icon\" style=\"padding-top: 12px\">\r\n                            <i class=\"time icon\"></i>\r\n                            <input type=\"text\" placeholder=\"Time\" formControlName=\"timeStart\">\r\n                        </div>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('timeStart').invalid && activityForm.get('timeStart').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field\">\r\n                        <label style=\"text-align: left\">\r\n                            End Date:\r\n                            <mat-form-field style=\"width: 120px;\">\r\n                                <input matInput [matDatepicker]=\"picker2\" (dateInput)=\"addDate('end', $event)\"\r\n                                    formControlName=\"dateEnd\">\r\n                                <mat-datepicker-toggle matSuffix [for]=\"picker2\"></mat-datepicker-toggle>\r\n                                <mat-datepicker #picker2></mat-datepicker>\r\n                            </mat-form-field>\r\n                        </label>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('dateEnd').invalid && activityForm.get('dateEnd').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field\">\r\n                        <label style=\"text-align: left\">\r\n                            End Time:\r\n                        </label>\r\n                        <div class=\"ui input left icon\" style=\"padding-top: 12px\">\r\n                            <i class=\"time icon\"></i>\r\n                            <input type=\"text\" placeholder=\"Time\" formControlName=\"timeEnd\">\r\n                        </div>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('timeEnd').invalid && activityForm.get('timeEnd').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"fields\">\r\n                    <div class=\"sixteen wide field\">\r\n                        <label style=\"text-align: left\">\r\n                            Location:\r\n                            <input type=\"text\" formControlName=\"adressToConvert\">\r\n                        </label>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('adressToConvert').invalid && activityForm.get('adressToConvert').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <div class=\"three fields\">\r\n                    <div class=\"field\">\r\n                        <label style=\"text-align: left\">\r\n                            Activity type:\r\n                            <input type=\"text\" formControlName=\"activityType\">\r\n                        </label>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('activityType').invalid && activityForm.get('activityType').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field\">\r\n                        <label style=\"text-align: left\">\r\n                            Price:\r\n                            <input type=\"text\" formControlName=\"price\">\r\n                        </label>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('price').invalid && activityForm.get('price').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"field\">\r\n                        <label style=\"text-align: left\">\r\n                            Capacity:\r\n                            <input type=\"text\" formControlName=\"capacity\">\r\n                        </label>\r\n                        <div class=\"error-message\" *ngIf=\"activityForm.get('capacity').invalid && activityForm.get('capacity').touched\"\r\n                            style=\"text-align: center\">\r\n                            <div class=\"input-err-message\" style=\"text-align: center\">\r\n                                <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label style=\"text-align: left\">\r\n                    Desciption:\r\n                    <textarea rows=\"3\" formControlName=\"description\"></textarea>\r\n                </label>\r\n                <div class=\"error-message\" *ngIf=\"activityForm.get('description').invalid && activityForm.get('description').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <label style=\"text-align: left\"> Images: </label>\r\n            <div class=\"two fields\">\r\n                <div class=\"twelve wide field\">\r\n                    <input #imageInput type=\"file\" (change)=\"onFileSelected($event)\" accept=\"image/x-png,image/gif,image/jpeg\">\r\n                </div>\r\n                <div class=\"four wide field\">\r\n                    <button class=\"ui blue basic button\" (click)=\"onUpload()\"> Upload </button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"data.mode === 'addEmergencyContact'\">\r\n    <div class=\"ui form\">\r\n        <form [formGroup]=\"emergencyContactForm\" *ngIf=\"data.mode === 'addEmergencyContact'\">\r\n            <div class=\"field\">\r\n                <label style=\"text-align: left\">\r\n                    Alias:\r\n                    <input type=\"text\" formControlName=\"alias\">\r\n                </label>\r\n                <div class=\"error-message\" *ngIf=\"emergencyContactForm.get('alias').invalid && emergencyContactForm.get('alias').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Must be at least 3 characters!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label style=\"text-align: left\">\r\n                    Phone:\r\n                    <input type=\"text\" formControlName=\"phone\">\r\n                </label>\r\n                <div class=\"error-message\" *ngIf=\"emergencyContactForm.get('phone').invalid && emergencyContactForm.get('phone').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Must be at least 3 characters!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"data.mode === 'editUserInfo'\">\r\n    <div class=\"ui form\">\r\n        <form [formGroup]=\"userInfoForm\" *ngIf=\"data.mode === 'editUserInfo'\">\r\n            <div class=\"field\">\r\n                <label style=\"text-align: left\">\r\n                    Email:\r\n                    <input type=\"text\" formControlName=\"email\">\r\n                </label>\r\n                <div class=\"error-message\" *ngIf=\"userInfoForm.get('email').invalid && userInfoForm.get('email').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Must be at least 3 characters!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label style=\"text-align: left\">\r\n                    Complete Name:\r\n                    <input type=\"text\" formControlName=\"completeName\">\r\n                </label>\r\n                <div class=\"error-message\" *ngIf=\"userInfoForm.get('completeName').invalid && userInfoForm.get('completeName').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Must be at least 3 characters!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label style=\"text-align: left\">\r\n                    Birthday:\r\n                    <input type=\"text\" formControlName=\"birthday\">\r\n                </label>\r\n                <div class=\"error-message\" *ngIf=\"userInfoForm.get('birthday').invalid && userInfoForm.get('birthday').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Must be at least 3 characters!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label style=\"text-align: left\">\r\n                    Phone:\r\n                    <input type=\"text\" formControlName=\"phone\">\r\n                </label>\r\n                <div class=\"error-message\" *ngIf=\"userInfoForm.get('phone').invalid && userInfoForm.get('phone').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Must be at least 3 characters!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"field\">\r\n                <label style=\"text-align: left\">\r\n                    Profile picture:\r\n                    <input type=\"text\" formControlName=\"profilePic\">\r\n                </label>\r\n                <div class=\"error-message\" *ngIf=\"userInfoForm.get('profilePic').invalid && userInfoForm.get('profilePic').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Can't be empty!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"data.mode === 'deleteActivity'\">\r\n    <p>Are you sure to delete : <span style=\"color: red\"> {{ activityToDelete.title }}</span></p>\r\n</div>\r\n\r\n<div>\r\n    <div class=\"ui divider\"></div>\r\n</div>\r\n\r\n<!--Add & Edit Actions-->\r\n<div class=\"actions\" *ngIf=\"data.mode === 'addActivity' || data.mode === 'editActivity' || data.mode === 'editUserInfo'\r\n    || data.mode === 'addEmergencyContact'\"\r\n    style=\"text-align: center; padding-top: 10px;\">\r\n    <div class=\"ui green basic ok button\" (click)=\"onSaveClick(data)\">\r\n        <i class=\"checkmark icon\"></i>\r\n        Save\r\n    </div>\r\n    <div class=\"ui red basic cancel button\" (click)=\"onCancelClick()\">\r\n        <i class=\"remove icon\"></i>\r\n        Cancel\r\n    </div>\r\n</div>\r\n\r\n<!--Delete Actions-->\r\n<div class=\"actions\" *ngIf=\"data.mode === 'deleteActivity'\" style=\"text-align: center; padding-top: 10px;\">\r\n    <div class=\"ui green basic ok button\" (click)=\"onDeleteClick(data)\">\r\n        <i class=\"checkmark icon\"></i>\r\n        Yes\r\n    </div>\r\n    <div class=\"ui red basic cancel button\" (click)=\"onCancelClick()\">\r\n        <i class=\"remove icon\"></i>\r\n        No\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/dialog/dialog.component.css":
/*!********************************************************!*\
  !*** ./src/app/components/dialog/dialog.component.css ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/dialog/dialog.component.html":
/*!*********************************************************!*\
  !*** ./src/app/components/dialog/dialog.component.html ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/dialog/dialog.component.ts":
/*!*******************************************************!*\
  !*** ./src/app/components/dialog/dialog.component.ts ***!
  \*******************************************************/
/*! exports provided: DialogComponent, DialogContentComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogComponent", function() { return DialogComponent; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogContentComponent", function() { return DialogContentComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_material__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material */ "./node_modules/@angular/material/esm5/material.es5.js");
/* harmony import */ var _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../node_modules/@angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/dialog/dialog.service */ "./src/app/services/dialog/dialog.service.ts");
/* harmony import */ var _services_activities_activities_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/activities/activities.service */ "./src/app/services/activities/activities.service.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _services_messages_messages_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/messages/messages.service */ "./src/app/services/messages/messages.service.ts");
/* harmony import */ var _services_user_user_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var src_app_services_upload_upload_images_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! src/app/services/upload/upload-images.service */ "./src/app/services/upload/upload-images.service.ts");
/* harmony import */ var ng2_img_max__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ng2-img-max */ "./node_modules/ng2-img-max/dist/ng2-img-max.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var src_app_services_geocoding_geocoding_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/app/services/geocoding/geocoding.service */ "./src/app/services/geocoding/geocoding.service.ts");
/* harmony import */ var src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! src/app/services/entity/entity.service */ "./src/app/services/entity/entity.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};














var DialogComponent = /** @class */ (function () {
    function DialogComponent(dialog, dialogService) {
        this.dialog = dialog;
        this.dialogService = dialogService;
        this.subscriptions = []; // 为了推出component的时候取消订阅，要不然再次进来的时候回再次订阅就会变成订阅两次
        // ACTIVITY FORM CREATION
        this.activityForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({
            title: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(3)
            ]),
            description: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            dateStart: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            dateEnd: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            timeStart: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            timeEnd: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            images: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            adressToConvert: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            activityType: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            price: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern('^[0-9]*$')
            ]),
            capacity: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].pattern('^[0-9]*$')
            ])
        });
        // USER FORM CREATION
        this.userInfoForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({
            email: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(3)
            ]),
            completeName: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(3)
            ]),
            birthday: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(3)
            ]),
            phone: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(3)
            ]),
            profilePic: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
            ]),
        });
        this.emergencyContactForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({
            phone: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
            alias: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required)
        });
    }
    DialogComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.subscriptions.push(this.dialogService.dialog$.subscribe(function (mode) {
            // mode （从HTML传过来的）传过来的时候是个obj {mode: 他的action类别, obj: optional的，可以选择传过来任何一个obj如果需要的话}
            // in this section we do all of necessary operation before to open the dialog
            if (mode.mode === 'addActivity') {
                _this.openDialog(mode);
            }
            if (mode.mode === 'editActivity') {
                // EVERYTHING OF HERE IS FOR AUTO FILLING THE FORM
                var humanizeTimeStart = _this.timeConverter(mode.obj.timestampStart, 'time');
                var humanizeTimeEnd = _this.timeConverter(mode.obj.timestampEnd, 'time');
                _this.activityForm.setValue({
                    title: mode.obj.title === undefined ? '' : mode.obj.title,
                    description: mode.obj.description === undefined
                        ? ''
                        : mode.obj.description,
                    dateStart: '',
                    dateEnd: '',
                    timeStart: humanizeTimeStart,
                    timeEnd: humanizeTimeEnd,
                    images: mode.obj.images === undefined
                        ? ''
                        : mode.obj.images,
                    adressToConvert: mode.obj.adressToConvert === undefined
                        ? ''
                        : mode.obj.adressToConvert,
                    activityType: mode.obj.activityType === undefined
                        ? ''
                        : mode.obj.activityType,
                    price: mode.obj.price === undefined ? '' : mode.obj.price,
                    capacity: mode.obj.capacity === undefined
                        ? ''
                        : mode.obj.capacity
                });
                _this.openDialog(mode);
            }
            if (mode.mode === 'deleteActivity') {
                _this.openDialog(mode);
            }
            if (mode.mode === 'infoDialog') {
                _this.openDialog(mode);
            }
            if (mode.mode === 'editUserInfo') {
                _this.userInfoForm.setValue({
                    email: mode.obj.email === undefined ? '' : mode.obj.email,
                    completeName: mode.obj.completeName === undefined
                        ? ''
                        : mode.obj.completeName,
                    birthday: mode.obj.birthday === undefined
                        ? ''
                        : mode.obj.birthday,
                    phone: mode.obj.phone === undefined ? '' : mode.obj.phone,
                    profilePic: mode.obj.profilePic === undefined ? '' : mode.obj.profilePic,
                });
                _this.openDialog(mode);
            }
            if (mode.mode === 'addEmergencyContact') {
                _this.openDialog(mode);
            }
        }));
    };
    DialogComponent.prototype.timeConverter = function (UNIX_timestamp, type) {
        var a = new Date(UNIX_timestamp * 1000);
        var months = [
            '1',
            '2',
            '3',
            '4',
            '5',
            '6',
            '7',
            '8',
            '9',
            '10',
            '11',
            '12'
        ];
        var year = a.getFullYear();
        var month = months[a.getMonth()];
        var date = a.getDate();
        var hour = a.getHours();
        var min = a.getMinutes();
        var sec = a.getSeconds();
        var time;
        if (type === 'time') {
            time = hour + ':' + min + ':' + sec;
        }
        else if (type === 'year') {
            return year;
        }
        else if (type === 'month') {
            return month;
        }
        else if (type === 'day') {
            return date;
        }
        else {
            time =
                date +
                    ' ' +
                    month +
                    ' ' +
                    year +
                    ' ' +
                    hour +
                    ':' +
                    min +
                    ':' +
                    sec;
        }
        return time;
    };
    DialogComponent.prototype.openDialog = function (mode) {
        // ----------------------------------------------
        // -----------to make auto complete--------------
        // ----------------------------------------------
        if (mode.mode === 'editUserInfo') {
            var dialogRef = this.dialog.open(DialogContentComponent, {
                width: '600px',
                // 这里有一个form 是为了打开dialog之后立马能加载里面的内容
                data: {
                    mode: mode.mode,
                    obj: mode.obj,
                    form: this.userInfoForm
                } // dialog-content 可以通过data来读取dialog.component里面的变量
            });
            dialogRef.afterClosed().subscribe(function (result) {
                //
            });
        }
        else if (mode.mode === 'editActivity') {
            var dialogRef = this.dialog.open(DialogContentComponent, {
                width: '600px',
                // 这里有一个form 是为了打开dialog之后立马能加载里面的内容
                data: {
                    mode: mode.mode,
                    obj: mode.obj,
                    form: this.activityForm
                } // dialog-content 可以通过data来读取dialog.component里面的变量
            });
            dialogRef.afterClosed().subscribe(function (result) {
                //
            });
        }
        else {
            var dialogRef = this.dialog.open(DialogContentComponent, {
                width: '600px',
                // 这里有一个form 是为了打开dialog之后立马能加载里面的内容
                data: {
                    mode: mode.mode,
                    obj: mode.obj,
                    form: this.emergencyContactForm
                } // dialog-content 可以通过data来读取dialog.component里面的变量
            });
            dialogRef.afterClosed().subscribe(function (result) {
                //
            });
        }
    };
    DialogComponent.prototype.ngOnDestroy = function () {
        this.subscriptions.forEach(function (s) { return s.unsubscribe(); });
    };
    DialogComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-dialog',
            template: __webpack_require__(/*! ./dialog.component.html */ "./src/app/components/dialog/dialog.component.html"),
            styles: [__webpack_require__(/*! ./dialog.component.css */ "./src/app/components/dialog/dialog.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
            _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], DialogComponent);
    return DialogComponent;
}());

var DialogContentComponent = /** @class */ (function () {
    function DialogContentComponent(dialogRef, data, http, activityService, messagesService, dialogService, uploadImagesService, ng2ImgMax, userService, geocodingService, entityService) {
        this.dialogRef = dialogRef;
        this.data = data;
        this.http = http;
        this.activityService = activityService;
        this.messagesService = messagesService;
        this.dialogService = dialogService;
        this.uploadImagesService = uploadImagesService;
        this.ng2ImgMax = ng2ImgMax;
        this.userService = userService;
        this.geocodingService = geocodingService;
        this.entityService = entityService;
        this.activityForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({});
        this.userInfoForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({});
        this.emergencyContactForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({});
        this.activityToDelete = this.data.obj;
        // ----------------------------------------------
        // -----------to make auto complete--------------
        // ----------------------------------------------
        if (data.mode === 'editActivity') {
            this.activityForm = data.form;
        }
        else if (data.mode === 'editUserInfo') {
            this.userInfoForm = data.form;
        }
        else if (data.mode === 'addActivity') {
            this.activityForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({
                title: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', [
                    _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required,
                    _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].minLength(3)
                ]),
                description: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                dateStart: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                dateEnd: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                timeStart: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                timeEnd: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                images: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                adressToConvert: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                activityType: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                price: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                capacity: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required)
            });
        }
        else if (data.mode === 'addEmergencyContact') {
            this.emergencyContactForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroup"]({
                phone: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required),
                alias: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControl"]('', _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_2__["Validators"].required)
            });
        }
    }
    DialogContentComponent.prototype.ngOnInit = function () { };
    DialogContentComponent.prototype.onFileSelected = function (event) {
        var _this = this;
        var file = event.target.files[0];
        // Compress the image to 0.75MB
        this.ng2ImgMax.compressImage(file, 0.075).subscribe(function (result) {
            _this.uploadedImage = new File([result], result.name);
            console.log('imageCompressed', _this.uploadedImage);
            var reader = new FileReader();
            reader.onload = _this._handleReaderLoaded.bind(_this);
            reader.readAsBinaryString(_this.uploadedImage);
        }, function (error) {
            // console.log('Oh no!', error);
            _this.dialogService.openDialog({
                mode: 'infoDialog',
                obj: error.reason + ' Please try with another image!'
            });
        });
    };
    DialogContentComponent.prototype._handleReaderLoaded = function (readerEvt) {
        var binaryString = readerEvt.target.result;
        this.base64textString = btoa(binaryString);
        console.log(btoa(binaryString));
    };
    DialogContentComponent.prototype.onUpload = function () {
        var _this = this;
        this.uploadImagesService
            .upload(this.base64textString)
            .subscribe(function (res) {
            if (_this.messagesService.getExists()) {
                _this.dialogService.openDialog({
                    mode: 'infoDialog',
                    obj: _this.messagesService.getMessage()
                });
                _this.messagesService.setMessage(null);
            }
            else {
                _this.imageUrl = res.imageUrl;
                // this.snackBarService.openSnackBar({message: 'Added successful!', action: 'Ok'});
            }
        });
    };
    DialogContentComponent.prototype.onCancelClick = function () {
        this.dialogRef.close();
    };
    DialogContentComponent.prototype.onSaveClick = function (data) {
        var _this = this;
        if (data.mode === 'addEmergencyContact') {
            var phone_1 = this.emergencyContactForm.value.phone;
            var alias_1 = this.emergencyContactForm.value.alias;
            this.userService.getEmergencyPhoneById(data.obj).subscribe(function (res) {
                var oldContacts = res;
                oldContacts.push({ alias: alias_1, phone: phone_1 });
                _this.entityService.addEmergencyContact(data.obj, oldContacts).subscribe(function (res2) {
                    if (_this.messagesService.getExists()) {
                        _this.dialogService.openDialog({
                            mode: 'infoDialog',
                            obj: _this.messagesService.getMessage()
                        });
                        _this.messagesService.setMessage(null);
                    }
                    else {
                        _this.userService.userDataChanged('updated');
                        _this.dialogRef.close();
                    }
                });
            });
        }
        if (data.mode === 'addActivity' || data.mode === 'editActivity') {
            var addressName = this.activityForm.value.adressToConvert;
            this.geocodingService.getLatLong(addressName).subscribe(function (res) {
                if (_this.messagesService.getExists()) {
                    _this.dialogService.openDialog({
                        mode: 'infoDialog',
                        obj: _this.messagesService.getMessage()
                    });
                    _this.messagesService.setMessage(null);
                }
                else {
                    _this.geoCodedLat = res.results[0].geometry.location.lat;
                    _this.geoCodedLong = res.results[0].geometry.location.lng;
                    var title = _this.activityForm.value.title;
                    var description = _this.activityForm.value.description;
                    var lat = _this.geoCodedLat;
                    var long = _this.geoCodedLong;
                    var images = _this.imageUrl;
                    var participants = [];
                    var activityType = _this.activityForm.value.activityType;
                    var price = _this.activityForm.value.price;
                    var capacity = _this.activityForm.value.capacity;
                    if (data.mode === 'addActivity') {
                        _this.timeEnd = _this.activityForm.value.timeEnd; // get start time from form
                        _this.timeStart = _this.activityForm.value.timeStart; // get end time from form
                        var start = _this.startDate + " " + _this.timeStart; // get the start time in mm-dd-yyyy hh:mm in String
                        var end = _this.endDate + " " + _this.timeEnd; // get the end time in mm-dd-yyyy hh:mm in String
                        var startMoment = moment__WEBPACK_IMPORTED_MODULE_10__(start); // create the moment()
                        var endMoment = moment__WEBPACK_IMPORTED_MODULE_10__(end);
                        var timestampStart = startMoment.toDate().getTime() + ''; // transform the moment to date and the date to timestamp
                        var timestampEnd = endMoment.toDate().getTime() + '';
                        _this.activityService
                            .addActivitiy({
                            title: title,
                            description: description,
                            timestampStart: timestampStart,
                            timestampEnd: timestampEnd,
                            lat: lat,
                            long: long,
                            images: images,
                            participants: participants,
                            activityType: activityType,
                            price: price,
                            capacity: capacity
                        })
                            .subscribe(function (res3) {
                            if (_this.messagesService.getExists()) {
                                console.log('error: ', _this.messagesService.getMessage());
                                _this.dialogService.openDialog({
                                    mode: 'infoDialog',
                                    obj: _this.messagesService.getMessage()
                                });
                                _this.messagesService.setMessage(null);
                            }
                            else {
                                _this.activityService.actDataChanged('added');
                                // this.snackBarService.openSnackBar({message: 'Added successful!', action: 'Ok'});
                                _this.onCancelClick();
                            }
                        });
                        _this.dialogRef.close();
                    }
                    if (data.mode === 'editActivity') {
                        var idAct = data.obj.id;
                        _this.timeEnd = _this.activityForm.value.timeEnd; // get start time from form
                        _this.timeStart = _this.activityForm.value.timeStart; // get end time from form
                        var start = _this.startDate + " " + _this.timeStart; // get the start time in yyyy-mm-dd hh:mm in String
                        var end = _this.endDate + " " + _this.timeEnd; // get the end time in yyyy-mm-dd hh:mm in String
                        var startMoment = moment__WEBPACK_IMPORTED_MODULE_10__(start); // create the moment()
                        var endMoment = moment__WEBPACK_IMPORTED_MODULE_10__(end);
                        var timestampStart = startMoment.toDate().getTime() + ''; // transform the moment to date and the date to timestamp
                        var timestampEnd = endMoment.toDate().getTime() + '';
                        _this.activityService
                            .editActivity({
                            id: idAct,
                            title: title,
                            description: description,
                            timestampStart: timestampStart,
                            timestampEnd: timestampEnd,
                            lat: lat,
                            long: long,
                            images: images,
                            participants: participants,
                            activityType: activityType,
                            price: price,
                            capacity: capacity
                        })
                            .subscribe(function (res2) {
                            if (_this.messagesService.getExists()) {
                                _this.dialogService.openDialog({
                                    mode: 'infoDialog',
                                    obj: _this.messagesService.getMessage()
                                });
                                _this.messagesService.setMessage(null);
                            }
                            else {
                                _this.activityService.actDataChanged('updated');
                                // this.snackBarService.openSnackBar({message: 'Added successful!', action: 'Ok'});
                                _this.onCancelClick();
                            }
                        });
                        _this.dialogRef.close();
                    }
                }
            });
        }
        if (data.mode === 'editUserInfo') {
            var email = this.userInfoForm.value.email;
            var completeName = this.userInfoForm.value.completeName;
            var birthday = this.userInfoForm.value.birthday;
            var phone = this.userInfoForm.value.phone;
            var profilePic = this.userInfoForm.value.profilePic;
            var idUser = data.obj._id;
            this.userService
                .updateUserInfo({
                email: email,
                completeName: completeName,
                birthday: birthday,
                phone: phone,
                profilePic: profilePic
            }, idUser)
                .subscribe(function (res1) {
                if (_this.messagesService.getExists()) {
                    _this.dialogService.openDialog({
                        mode: 'infoDialog',
                        obj: _this.messagesService.getMessage()
                    });
                    _this.messagesService.setMessage(null);
                }
                else {
                    _this.userService.userDataChanged('myProfileChanged');
                    // this.snackBarService.openSnackBar({message: 'Added successful!', action: 'Ok'});
                    _this.onCancelClick();
                }
            });
            this.dialogRef.close();
        }
    };
    // 从Date格式转换到Timestamp为了能够储存到DB里面
    DialogContentComponent.prototype.addDate = function (type, event) {
        var startDate = this.activityForm.value.dateStart;
        var endDate = this.activityForm.value.dateEnd;
        if (type === 'start') {
            var year = startDate.getFullYear();
            var month = startDate.getMonth();
            month = month + 1;
            var day = startDate.getDate();
            var dateString = year + "-" + month + "-" + day;
            // this.endDate is the String yyyy-mm-dd
            this.startDate = dateString;
        }
        if (type === 'end') {
            var year = endDate.getFullYear();
            var month = endDate.getMonth();
            month = month + 1;
            var day = endDate.getDate();
            var dateString = year + "-" + month + "-" + day;
            // this.endDate is the String yyyy-mm-dd
            this.endDate = dateString;
        }
    };
    DialogContentComponent.prototype.onDeleteClick = function (data) {
        var _this = this;
        if (data.mode === 'deleteActivity') {
            console.log(data);
            this.activityService.deleteActivity(data.obj.id).subscribe(function (res) {
                if (_this.messagesService.getExists()) {
                    _this.dialogService.openDialog({
                        mode: 'infoDialog',
                        obj: _this.messagesService.getMessage()
                    });
                    _this.messagesService.setMessage(null);
                }
                else {
                    _this.activityService.actDataChanged('deleted');
                    // this.snackBarService.openSnackBar({message: 'Added successful!', action: 'Ok'});
                    _this.onCancelClick();
                }
                _this.dialogRef.close();
            });
        }
    };
    __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('imageInput'),
        __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
    ], DialogContentComponent.prototype, "imageInputVariable", void 0);
    DialogContentComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-dialog-content',
            template: __webpack_require__(/*! ./dialog-content.html */ "./src/app/components/dialog/dialog-content.html")
        }),
        __param(1, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
        __metadata("design:paramtypes", [_angular_material__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"], Object, _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"],
            _services_activities_activities_service__WEBPACK_IMPORTED_MODULE_4__["ActivitiesService"],
            _services_messages_messages_service__WEBPACK_IMPORTED_MODULE_6__["MessagesService"],
            _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"],
            src_app_services_upload_upload_images_service__WEBPACK_IMPORTED_MODULE_8__["UploadImagesService"],
            ng2_img_max__WEBPACK_IMPORTED_MODULE_9__["Ng2ImgMaxService"],
            _services_user_user_service__WEBPACK_IMPORTED_MODULE_7__["UserService"],
            src_app_services_geocoding_geocoding_service__WEBPACK_IMPORTED_MODULE_11__["GeocodingService"],
            src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_12__["EntityService"]])
    ], DialogContentComponent);
    return DialogContentComponent;
}());



/***/ }),

/***/ "./src/app/components/login/login.component.css":
/*!******************************************************!*\
  !*** ./src/app/components/login/login.component.css ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".login-page {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    -webkit-transform: translate(-50%, -50%);\r\n            transform: translate(-50%, -50%);\r\n    outline: 2px solid #C0C0C0;\r\n    outline-offset: 20px;\r\n}\r\n\r\n.title {\r\n    text-align: center;\r\n}\r\n"

/***/ }),

/***/ "./src/app/components/login/login.component.html":
/*!*******************************************************!*\
  !*** ./src/app/components/login/login.component.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"login-page\">\r\n    <app-dialog></app-dialog>\r\n    <h1 class=\"title\">Login</h1>\r\n    <div class=\"form\" style=\"width: 210px;\">\r\n        <form [formGroup]=\"loginForm\">\r\n            <div class=\"field\">\r\n                <strong>Username:</strong>\r\n                <div class=\"ui input\">\r\n                    <input type=\"text\" formControlName=\"username\" style=\"width: 210px;\">\r\n                </div>\r\n                <div class=\"error-message\" *ngIf=\"loginForm.get('username').invalid && loginForm.get('username').touched\"\r\n                    style=\"text-align: center\">\r\n                    <div class=\"input-err-message\" style=\"text-align: center\">\r\n                        <p style=\"color: red; white-space: nowrap;\">Wrong username format!</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"field\" style=\"margin-top: 15px\">\r\n                <strong>Password:</strong>\r\n                <div class=\"ui input\">\r\n                    <input type=\"password\" formControlName=\"password\" style=\"width: 210px;\">\r\n                </div>\r\n                <div class=\"error-message\" *ngIf=\"loginForm.get('password').invalid && loginForm.get('password').touched\"\r\n                    style=\"text-align: center\">\r\n                    <p style=\"color: red; white-space: nowrap;\">3 or more characters!</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"login-button\" style=\"margin-top: 20px;\">\r\n                <button class=\"ui fluid blue button\" (click)=\"login()\" [disabled]=\"!loginForm.valid\">Login</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/login/login.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/login/login.component.ts ***!
  \*****************************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/@angular/forms */ "./node_modules/@angular/forms/fesm5/forms.js");
/* harmony import */ var _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/dialog/dialog.service */ "./src/app/services/dialog/dialog.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _services_auth_auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/auth/auth.service */ "./src/app/services/auth/auth.service.ts");
/* harmony import */ var _services_messages_messages_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/messages/messages.service */ "./src/app/services/messages/messages.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var LoginComponent = /** @class */ (function () {
    function LoginComponent(authService, router, messageService, dialogService) {
        this.authService = authService;
        this.router = router;
        this.messageService = messageService;
        this.dialogService = dialogService;
        this.loginForm = new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroup"]({
            username: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [_node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]),
            password: new _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required,
                _node_modules_angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].minLength(3)
            ])
        });
    }
    LoginComponent.prototype.ngOnInit = function () { };
    LoginComponent.prototype.login = function () {
        var _this = this;
        var username = this.loginForm.value.username;
        var password = this.loginForm.value.password;
        username = username.trim();
        if (!username) {
            return;
        }
        password = password.trim();
        if (!password) {
            return;
        }
        this.authService
            .login({ username: username, password: password })
            .subscribe(function (res) {
            if (_this.messageService.getExists()) {
                _this.dialogService.openDialog({
                    mode: 'infoDialog',
                    obj: _this.messageService.getMessage()
                });
                _this.messageService.setMessage(null);
            }
            else {
                localStorage.setItem('token', res.token);
                localStorage.setItem('username', username);
                localStorage.setItem('profilepic', res.user.profilePic);
                _this.authService.changeUserStatus('loginSuccess');
                _this.router.navigate(['/dashboard']);
            }
        });
    };
    LoginComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-login',
            template: __webpack_require__(/*! ./login.component.html */ "./src/app/components/login/login.component.html"),
            styles: [__webpack_require__(/*! ./login.component.css */ "./src/app/components/login/login.component.css")]
        }),
        __metadata("design:paramtypes", [_services_auth_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"],
            _services_messages_messages_service__WEBPACK_IMPORTED_MODULE_5__["MessagesService"],
            _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"]])
    ], LoginComponent);
    return LoginComponent;
}());



/***/ }),

/***/ "./src/app/components/side-bar/side-bar.component.css":
/*!************************************************************!*\
  !*** ./src/app/components/side-bar/side-bar.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/side-bar/side-bar.component.html":
/*!*************************************************************!*\
  !*** ./src/app/components/side-bar/side-bar.component.html ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"ui secondary vertical pointing menu\">\r\n    <div class='title'>\r\n    </div>\r\n    <a class=\"item\" routerLink=\"/dashboard\">\r\n        Dashboard\r\n    </a>\r\n    <a class=\"item\" routerLink=\"/activities\">\r\n        Activities List\r\n    </a>\r\n    <a class=\"item\" routerLink=\"/users\">\r\n        Users List\r\n    </a>\r\n    <a class=\"item\" routerLink=\"/emergency\">\r\n        Users out of range\r\n    </a>\r\n    <a class=\"item\" routerLink=\"/allusers\">\r\n        All Users\r\n    </a>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/side-bar/side-bar.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/components/side-bar/side-bar.component.ts ***!
  \***********************************************************/
/*! exports provided: SideBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SideBarComponent", function() { return SideBarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var SideBarComponent = /** @class */ (function () {
    function SideBarComponent() {
    }
    SideBarComponent.prototype.ngOnInit = function () { };
    SideBarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-side-bar',
            template: __webpack_require__(/*! ./side-bar.component.html */ "./src/app/components/side-bar/side-bar.component.html"),
            styles: [__webpack_require__(/*! ./side-bar.component.css */ "./src/app/components/side-bar/side-bar.component.css")]
        }),
        __metadata("design:paramtypes", [])
    ], SideBarComponent);
    return SideBarComponent;
}());



/***/ }),

/***/ "./src/app/components/top-bar/top-bar.component.css":
/*!**********************************************************!*\
  !*** ./src/app/components/top-bar/top-bar.component.css ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/top-bar/top-bar.component.html":
/*!***********************************************************!*\
  !*** ./src/app/components/top-bar/top-bar.component.html ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"top-bar-content\">\r\n    <div class=\"left items\">\r\n        <div class=\"sidebar button\">\r\n            <button class=\"ui labeled icon button\" (click)=\"toggle()\">\r\n                <i class=\"sidebar icon\"></i>Menu\r\n            </button>\r\n        </div>\r\n    </div>\r\n    <div class=\"right items\">\r\n        <div *ngIf=\"logged\">\r\n            <div class=\"profile\" style=\"position: absolute; right: 125px; top: 6px\" *ngIf=\"profilePicture !== undefined\">\r\n                <a class=\"ui label\" routerLink=\"/userinfo\">\r\n                    <img class=\"ui right spaced avatar image\" src= \"{{ profilePicture }}\" >\r\n                    {{ username }}\r\n                </a>\r\n            </div>\r\n            <div class=\"logout\" style=\"position: absolute; right: 5px; top: 6px\">\r\n                <button class=\"ui red button\" style=\"height: 39.5px; background-color: red\" (click)=\"logout()\">\r\n                    <i class=\"sign-out icon\"></i>\r\n                    Log out\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/top-bar/top-bar.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/components/top-bar/top-bar.component.ts ***!
  \*********************************************************/
/*! exports provided: TopBarComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TopBarComponent", function() { return TopBarComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/sidebar/sidebar.service */ "./src/app/services/sidebar/sidebar.service.ts");
/* harmony import */ var src_app_services_auth_auth_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/auth/auth.service */ "./src/app/services/auth/auth.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var TopBarComponent = /** @class */ (function () {
    function TopBarComponent(sidebarService, authService) {
        this.sidebarService = sidebarService;
        this.authService = authService;
        this.logged = localStorage.getItem('token');
        this.username = localStorage.getItem('username');
        this.profilePicture = localStorage.getItem('profilepic');
        this.sidebarOpened = false;
    }
    TopBarComponent.prototype.logout = function () {
        this.authService.logout();
        this.logged = null;
    };
    TopBarComponent.prototype.ngOnInit = function () {
        var _this = this;
        // 可以从任何组件来订阅user$，来获取改变的值
        this.authService.user$.subscribe(function (r) {
            if (r === 'loginSuccess') {
                _this.logged = localStorage.getItem('token');
                _this.username = localStorage.getItem('username');
                _this.profilePicture = localStorage.getItem('profilepic');
            }
        });
    };
    TopBarComponent.prototype.toggle = function () {
        if (this.sidebarOpened) {
            this.sidebarService.changeSidebarStatus('close');
            this.sidebarOpened = false;
        }
        else {
            this.sidebarService.changeSidebarStatus('open');
            this.sidebarOpened = true;
        }
    };
    TopBarComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-top-bar',
            template: __webpack_require__(/*! ./top-bar.component.html */ "./src/app/components/top-bar/top-bar.component.html"),
            styles: [__webpack_require__(/*! ./top-bar.component.css */ "./src/app/components/top-bar/top-bar.component.css")]
        }),
        __metadata("design:paramtypes", [_services_sidebar_sidebar_service__WEBPACK_IMPORTED_MODULE_1__["SidebarService"],
            src_app_services_auth_auth_service__WEBPACK_IMPORTED_MODULE_2__["AuthService"]])
    ], TopBarComponent);
    return TopBarComponent;
}());



/***/ }),

/***/ "./src/app/components/user-activities/user-activities.component.css":
/*!**************************************************************************!*\
  !*** ./src/app/components/user-activities/user-activities.component.css ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".top-controls{\r\n    padding: 20px;\r\n    display: -webkit-inline-box;\r\n    float: right\r\n}"

/***/ }),

/***/ "./src/app/components/user-activities/user-activities.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/components/user-activities/user-activities.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"userActivities-content\">\r\n    <h1>Users List <i class=\"users icon\"></i></h1>\r\n    <div class=\"ui divider\"></div>\r\n    <div class=\"top-controls\">\r\n        Table size:\r\n        <select class=\"ui dropdown\" (change)=\"setPageSize($event)\">\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option selected=\"selected\">5</option>\r\n            <option value=\"6\">6</option>\r\n            <option value=\"7\">7</option>\r\n            <option value=\"8\">8</option>\r\n            <option value=\"9\">9</option>\r\n            <option value=\"10\">10</option>\r\n        </select>\r\n        <div class=\"ui search\" style=\"margin-left: 15px;\">\r\n            <div class=\"ui icon input\">\r\n                <input (keyup)=\"onKey($event)\"/> <i class=\"search icon\"></i>\r\n            </div>\r\n        </div>\r\n        <button (click)=\"search()\" class=\"ui button\" style=\"margin-left: 10px;\">Search</button>\r\n    </div>\r\n\r\n    <div class=\"table-content\">\r\n        <table class=\"ui celled table\">\r\n            <thead>\r\n                <tr>\r\n                    <th>Name</th>\r\n                    <th>Email</th>\r\n                    <th>Phone</th>\r\n                    <th>Username</th>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let user of users\">\r\n                    <td>{{ user.completeName }}</td>\r\n                    <td>{{ user.email }}</td>\r\n                    <td>{{ user.phone }}</td>\r\n                    <td>{{ user.username }}</td>\r\n                    <td style=\"text-align: center\">\r\n                        <button\r\n                            class=\"ui icon green button\"\r\n                            (click)=\"showDetails(user._id)\"\r\n                        >\r\n                            <i class=\"th list icon\"></i>\r\n                        </button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n            <tfoot>\r\n                <tr>\r\n                    <th colspan=\"7\">\r\n                        <app-dialog></app-dialog>\r\n                        <div class=\"ui right floated pagination menu\">\r\n                            <a class=\"icon item\">\r\n                                <i class=\"left chevron icon\"></i>\r\n                            </a>\r\n                            <a\r\n                                class=\"item\"\r\n                                *ngFor=\"let loop of loopTimes\"\r\n                                (click)=\"getFilteredUsers(loop)\"\r\n                                >{{ loop + 1 }}</a\r\n                            >\r\n                            <a class=\"icon item\">\r\n                                <i class=\"right chevron icon\"></i>\r\n                            </a>\r\n                        </div>\r\n                    </th>\r\n                </tr>\r\n            </tfoot>\r\n        </table>\r\n        <!--app-snack-bar></app-snack-bar-->\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/components/user-activities/user-activities.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/components/user-activities/user-activities.component.ts ***!
  \*************************************************************************/
/*! exports provided: UserActivitiesComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserActivitiesComponent", function() { return UserActivitiesComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/dialog/dialog.service */ "./src/app/services/dialog/dialog.service.ts");
/* harmony import */ var src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/entity/entity.service */ "./src/app/services/entity/entity.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_messages_messages_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/services/messages/messages.service */ "./src/app/services/messages/messages.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var UserActivitiesComponent = /** @class */ (function () {
    function UserActivitiesComponent(dialogService, entityService, messageService, router) {
        this.dialogService = dialogService;
        this.entityService = entityService;
        this.messageService = messageService;
        this.router = router;
        this.actURL = 'https://grandapp.herokuapp.com/activities';
        this.searchedName = '';
    }
    UserActivitiesComponent.prototype.ngOnInit = function () {
        var _this = this;
        // auto reaload the users content
        var source = Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["interval"])(1000 * 60);
        var subscribe = source.subscribe(function (val) {
            _this.getFilteredUsers(_this.entityService.getCurrentPageNumber());
        });
        this.entityService.countTotalUsers().subscribe(function (totalUser) {
            _this.totalUsers = totalUser.count;
            _this.entityService.setTotalUsers(totalUser.count);
            _this.getFilteredUsers(0);
        });
    };
    UserActivitiesComponent.prototype.setPageSize = function (event) {
        var numPerPage = event.target.value;
        this.entityService.setCurrentPageSize(numPerPage);
        this.getFilteredUsers(0);
    };
    UserActivitiesComponent.prototype.getFilteredUsers = function (pageNumber) {
        var _this = this;
        // console.log('pagenumber = ', pageNumber);
        this.entityService.setCurrentPageNumber(pageNumber);
        this.entityService
            .getUsersByParams(this.entityService.getCurrentPageNumber() * this.entityService.getCurrentPageSize(), this.entityService.getCurrentPageSize())
            .subscribe(function (res) {
            if (_this.messageService.getExists()) {
                _this.dialogService.openDialog({
                    mode: 'infoDialog',
                    obj: _this.messageService.getMessage()
                });
                _this.messageService.setMessage(null);
            }
            else {
                var totalPage = Math.ceil(Number(_this.totalUsers) /
                    _this.entityService.getCurrentPageSize());
                console.log('totalUser: ', _this.totalUsers);
                _this.entityService.setTotalUsers(_this.totalUsers);
                _this.loopTimes = Array(totalPage)
                    .fill(0)
                    .map(function (x, i) { return i; });
                _this.users = res;
            }
        });
    };
    UserActivitiesComponent.prototype.onKey = function (event) {
        var _this = this;
        this.searchedName = event.target.value;
        if (this.searchedName === '') {
            this.entityService.countTotalUsers().subscribe(function (totalUser) {
                _this.totalUsers = totalUser.count;
                _this.entityService.setTotalUsers(totalUser.count);
                _this.getFilteredUsers(0);
            });
        }
    };
    UserActivitiesComponent.prototype.search = function () {
        var _this = this;
        this.entityService.searchUserByCompleteName(this.searchedName).subscribe(function (res) {
            _this.users = res;
            _this.totalUsers = res.length;
            var totalPage = Math.ceil(Number(_this.totalUsers) /
                _this.entityService.getCurrentPageSize());
            _this.entityService.setTotalUsers(_this.totalUsers);
            _this.loopTimes = Array(totalPage)
                .fill(0)
                .map(function (x, i) { return i; });
        });
    };
    UserActivitiesComponent.prototype.openModal = function (mode) {
        this.dialogService.openDialog(mode);
    };
    UserActivitiesComponent.prototype.showDetails = function (id) {
        this.router.navigate(['/users', id]);
    };
    UserActivitiesComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-user-activities',
            template: __webpack_require__(/*! ./user-activities.component.html */ "./src/app/components/user-activities/user-activities.component.html"),
            styles: [__webpack_require__(/*! ./user-activities.component.css */ "./src/app/components/user-activities/user-activities.component.css")]
        }),
        __metadata("design:paramtypes", [_services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_1__["DialogService"],
            src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_2__["EntityService"],
            src_app_services_messages_messages_service__WEBPACK_IMPORTED_MODULE_4__["MessagesService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]])
    ], UserActivitiesComponent);
    return UserActivitiesComponent;
}());



/***/ }),

/***/ "./src/app/components/user-details/user-details.component.css":
/*!********************************************************************!*\
  !*** ./src/app/components/user-details/user-details.component.css ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user-details/user-details.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/components/user-details/user-details.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"userInfo\">\r\n    <h1>User Information:</h1>\r\n    <div class=\"right-controls\" style=\"text-align: right\">\r\n        <button class=\"ui labeled icon blue button\" (click)=\"openModal({mode: 'addEmergencyContact', obj: id})\">\r\n            <i class=\"add icon\"></i>\r\n            Add\r\n        </button>\r\n    </div>\r\n    \r\n    <table class=\"ui definition table\">\r\n        <tbody *ngIf=\"user\">\r\n            <tr>\r\n                <td class=\"two wide column\">Localitat</td>\r\n                <td>Latitude: {{ user.place.lat }} Longitude: {{ user.place.long }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Username</td>\r\n                <td>{{ user.username}}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Email</td>\r\n                <td>{{ user.email }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Birthday</td>\r\n                <td>{{ user.birthday }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Phone</td>\r\n                <td>{{ user.phone }}</td>\r\n            </tr>\r\n            <tr *ngIf=\"emergencyPhones\">\r\n                <td>Emergency contacts</td>\r\n                <td>\r\n                    <ul>\r\n                        <li *ngFor=\"let emergencyPhone of emergencyPhones\">\r\n                            Name: {{ emergencyPhone.alias}}, Phone: {{ emergencyPhone.phone }}\r\n                        </li>\r\n                    </ul>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n\r\n<app-dialog></app-dialog>\r\n"

/***/ }),

/***/ "./src/app/components/user-details/user-details.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/components/user-details/user-details.component.ts ***!
  \*******************************************************************/
/*! exports provided: UserDetailsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserDetailsComponent", function() { return UserDetailsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/dialog/dialog.service */ "./src/app/services/dialog/dialog.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var UserDetailsComponent = /** @class */ (function () {
    function UserDetailsComponent(activatedRoute, userService, dialogService) {
        this.activatedRoute = activatedRoute;
        this.userService = userService;
        this.dialogService = dialogService;
    }
    UserDetailsComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.user$.subscribe(function (mode) {
            if (mode === 'updated') {
                _this.userService.getUserInfo(_this.id).subscribe(function (resUI) {
                    _this.user = resUI;
                    _this.userService.getEmergencyPhoneById(_this.id).subscribe(function (res) {
                        _this.emergencyPhones = res;
                    });
                });
            }
        });
        this.sub = this.activatedRoute.params.subscribe(function (params) {
            _this.id = params['id'];
            // console.log('El meu id es', this.id);
            _this.userService.getUserInfo(_this.id).subscribe(function (resUI) {
                _this.user = resUI;
                _this.userService.getEmergencyPhoneById(_this.id).subscribe(function (res) {
                    _this.emergencyPhones = res;
                });
            });
        });
    };
    UserDetailsComponent.prototype.openModal = function (mode) {
        this.dialogService.openDialog(mode);
    };
    UserDetailsComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-user-details',
            template: __webpack_require__(/*! ./user-details.component.html */ "./src/app/components/user-details/user-details.component.html"),
            styles: [__webpack_require__(/*! ./user-details.component.css */ "./src/app/components/user-details/user-details.component.css")]
        }),
        __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"], src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"], _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], UserDetailsComponent);
    return UserDetailsComponent;
}());



/***/ }),

/***/ "./src/app/components/user-profile/user-profile.component.css":
/*!********************************************************************!*\
  !*** ./src/app/components/user-profile/user-profile.component.css ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "./src/app/components/user-profile/user-profile.component.html":
/*!*********************************************************************!*\
  !*** ./src/app/components/user-profile/user-profile.component.html ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"userInfo\">\r\n    <h1>My profile:</h1>\r\n    <table class=\"ui definition table\">\r\n        <tbody *ngIf=\"userInfo\">\r\n            <tr>\r\n                <td class=\"two wide column\"></td>\r\n                <td><button class=\"ui icon button\" style=\"text-align: right\" (click)=\"openModal({mode: 'editUserInfo', obj: userInfo})\"><i\r\n                            class=\"edit icon\"></i></button></td>\r\n            </tr>\r\n            <tr>\r\n                <td class=\"two wide column\">Localitat</td>\r\n                <td *ngIf=\"entityInfo\">Latitude: {{ entityInfo.place.lat }}  Longitude: {{ entityInfo.place.long }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Complete Name</td>\r\n                <td>{{ userInfo.completeName}}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Username</td>\r\n                <td>{{ userInfo.username}}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Email</td>\r\n                <td>{{ userInfo.email }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Birthday</td>\r\n                <td>{{ userInfo.birthday }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Phone</td>\r\n                <td>{{ userInfo.phone }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>User type</td>\r\n                <td>{{ userInfo.userType }}</td>\r\n            </tr>\r\n            <!-- <tr>\r\n                <td>Contact phone</td>\r\n                <td>\r\n                    <ul>\r\n                        <li *ngFor=\"let contact of userInfo.contactPhones\">\r\n                            Name: {{ contact.alias}}, Phone: {{ contact.phone }}\r\n                        </li>\r\n                    </ul>\r\n                </td>\r\n            </tr> -->\r\n            <tr *ngIf=\"entityInfo\">\r\n                <td>Entity</td>\r\n                <td (click)=\"show()\">\r\n                  <p style=\"color: blue\" >{{ entityInfo.alias }} </p>\r\n                  <div class=\"ui info message\">\r\n                      <i class=\"close icon\"></i>\r\n                      <div class=\"header\">\r\n                        Click over to show the entity information.\r\n                      </div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n\r\n<div class=\"entityInfo\" style=\"padding-top: 20px;\" *ngIf=\"showEntityInfo\">\r\n    <h1>Entity Information:</h1>\r\n    <table class=\"ui definition table\">\r\n        <tbody *ngIf=\"entityInfo && userInfo\">\r\n            <tr>\r\n                <td class=\"two wide column\">Localitat</td>\r\n                <td>{{ entityInfo.address }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Entity Name</td>\r\n                <td>{{ entityInfo.alias}}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Email</td>\r\n                <td>{{ entityInfo.email }}</td>\r\n            </tr>\r\n            <tr>\r\n                <td>Phone</td>\r\n                <td>{{ entityInfo.phone }}</td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n\r\n<app-dialog></app-dialog>\r\n"

/***/ }),

/***/ "./src/app/components/user-profile/user-profile.component.ts":
/*!*******************************************************************!*\
  !*** ./src/app/components/user-profile/user-profile.component.ts ***!
  \*******************************************************************/
/*! exports provided: UserProfileComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserProfileComponent", function() { return UserProfileComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _services_user_user_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/dialog/dialog.service */ "./src/app/services/dialog/dialog.service.ts");
/* harmony import */ var src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/entity/entity.service */ "./src/app/services/entity/entity.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var UserProfileComponent = /** @class */ (function () {
    function UserProfileComponent(userService, dialogService, entityService) {
        var _this = this;
        this.userService = userService;
        this.dialogService = dialogService;
        this.entityService = entityService;
        this.showEntityInfo = false;
        this.userService.verify().subscribe(function (userInfo) {
            _this.userInfo = userInfo;
            if (_this.userInfo !== undefined) {
                _this.entityId = userInfo.entity;
            }
            if (_this.entityId !== undefined) {
                _this.entityService
                    .getEntityInfo({ id: _this.entityId })
                    .subscribe(function (res) {
                    console.log('ssss: ', res);
                    _this.entityInfo = res;
                });
            }
        });
    }
    UserProfileComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.user$.subscribe(function (mode) {
            if (mode === 'myProfileChanged') {
                _this.userService.verify().subscribe(function (userInfo) {
                    _this.userInfo = userInfo;
                });
            }
        });
    };
    UserProfileComponent.prototype.show = function () {
        this.showEntityInfo = !this.showEntityInfo;
    };
    UserProfileComponent.prototype.openModal = function (mode) {
        this.dialogService.openDialog(mode);
    };
    UserProfileComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-user-profile',
            template: __webpack_require__(/*! ./user-profile.component.html */ "./src/app/components/user-profile/user-profile.component.html"),
            styles: [__webpack_require__(/*! ./user-profile.component.css */ "./src/app/components/user-profile/user-profile.component.css")]
        }),
        __metadata("design:paramtypes", [_services_user_user_service__WEBPACK_IMPORTED_MODULE_1__["UserService"],
            _services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
            src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_3__["EntityService"]])
    ], UserProfileComponent);
    return UserProfileComponent;
}());



/***/ }),

/***/ "./src/app/components/users/users.component.css":
/*!******************************************************!*\
  !*** ./src/app/components/users/users.component.css ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "agm-map {\r\n    height: 700px;\r\n}\r\n\r\n.controlPanel {\r\n    margin-top: 20px;\r\n}\r\n"

/***/ }),

/***/ "./src/app/components/users/users.component.html":
/*!*******************************************************!*\
  !*** ./src/app/components/users/users.component.html ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<h1>Users out of range location: <i class=\"location arrow icon\"></i></h1>\r\n\r\n<div class=\"agm-map\">\r\n    <app-dialog></app-dialog>\r\n    <!-- Center of the map -->\r\n    <agm-map [zoom]=\"zoom\" [latitude]=\"initLat\" [longitude]=\"initLong\" [scrollwheel]=\"true\" (mapClick)=\"mapclicked($event)\">\r\n        <!-- Markers -->\r\n        <agm-marker *ngFor=\"let p of emergencyUsers;\" [latitude]=p.place.lat [longitude]=p.place.long>\r\n            <agm-info-window>\r\n                <p><strong>Latitude:</strong> {{ p.place.lat }}</p>\r\n                <p><strong>Longitude:</strong> {{ p.place.long }}</p>\r\n                <p><strong>Username:</strong> {{ p.username }}</p>\r\n                <p><strong>Emergency Contacts:</strong> \r\n                    <li *ngFor=\"let c of p.contactPhones;\">\r\n                     {{c.alias}} : {{c.phone}}\r\n                    </li>  \r\n            </agm-info-window>\r\n        </agm-marker> \r\n    </agm-map>\r\n</div>\r\n\r\n<!-- <div class=\"controlPanel\">\r\n    <h1>Filter users by activities:</h1>\r\n    <p>Choose one activity</p>\r\n    <select class=\"ui dropdown\" (change)=\"filterByActivity($event)\">\r\n        <option *ngFor=\"let act of activities\" value=\"act.title\"> {{ act.title }} </option>\r\n    </select>\r\n</div> -->\r\n"

/***/ }),

/***/ "./src/app/components/users/users.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/components/users/users.component.ts ***!
  \*****************************************************/
/*! exports provided: UsersComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsersComponent", function() { return UsersComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/services/entity/entity.service */ "./src/app/services/entity/entity.service.ts");
/* harmony import */ var src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/services/user/user.service */ "./src/app/services/user/user.service.ts");
/* harmony import */ var src_app_services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/services/dialog/dialog.service */ "./src/app/services/dialog/dialog.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UsersComponent = /** @class */ (function () {
    function UsersComponent(entityService, userService, dialogService) {
        this.entityService = entityService;
        this.userService = userService;
        this.dialogService = dialogService;
        // google maps zoom level
        this.zoom = 13;
        this.usersOfActivity = [];
        this.locationsOfUser = [];
        this.emergencyUsers = [];
    }
    UsersComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.userService.verify().subscribe(function (resv) {
            _this.entityid = resv.entity;
            // console.log('Id entity', this.entityid);
            _this.entityService.getEntityInfo({ id: _this.entityid }).subscribe(function (rese) {
                _this.initLat = rese.place.lat;
                // console.log('Tinc lat', this.initLat);
                _this.initLong = rese.place.long;
                // console.log('Tinc long', this.initLong);
            });
            _this.entityService.getEmergencyContacts(_this.entityid).subscribe(function (emer) {
                _this.emergencyUsers = emer;
                if (_this.emergencyUsers.length > 0) {
                    _this.zoom = 9;
                }
                _this.usersOor = _this.emergencyUsers.length;
                _this.mess = 'There are ' + _this.usersOor + ' users out of range';
                _this.dialogService.openDialog({
                    mode: 'infoDialog',
                    obj: _this.mess
                });
            });
            var source = Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["interval"])(1000 * 30);
            _this.loop = source.subscribe(function (val) {
                _this.entityService.getEmergencyContacts(_this.entityid).subscribe(function (emer) {
                    _this.emergencyUsers = emer;
                    // console.log('tinc un array de length ', this.emergencyUsers.length);
                    if (_this.emergencyUsers.length > 0) {
                        _this.zoom = 9;
                    }
                    _this.usersOor = _this.emergencyUsers.length;
                    _this.mess = 'There are ' + _this.usersOor + ' users out of range';
                    _this.dialogService.openDialog({
                        mode: 'infoDialog',
                        obj: _this.mess
                    });
                });
            });
        });
    };
    UsersComponent.prototype.ngOnDestroy = function () {
        this.loop.unsubscribe();
    };
    UsersComponent.prototype.mapclicked = function ($event) {
        // console.log($event);
    };
    UsersComponent = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
            selector: 'app-users',
            template: __webpack_require__(/*! ./users.component.html */ "./src/app/components/users/users.component.html"),
            styles: [__webpack_require__(/*! ./users.component.css */ "./src/app/components/users/users.component.css")]
        }),
        __metadata("design:paramtypes", [src_app_services_entity_entity_service__WEBPACK_IMPORTED_MODULE_1__["EntityService"],
            src_app_services_user_user_service__WEBPACK_IMPORTED_MODULE_2__["UserService"],
            src_app_services_dialog_dialog_service__WEBPACK_IMPORTED_MODULE_3__["DialogService"]])
    ], UsersComponent);
    return UsersComponent;
}());



/***/ }),

/***/ "./src/app/services/activities/activities.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/services/activities/activities.service.ts ***!
  \***********************************************************/
/*! exports provided: ActivitiesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActivitiesService", function() { return ActivitiesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _messages_messages_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/messages.service */ "./src/app/services/messages/messages.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ActivitiesService = /** @class */ (function () {
    function ActivitiesService(http, messageService) {
        this.http = http;
        this.messageService = messageService;
        this.actURL = 'https://grandapp.herokuapp.com/entity/activities';
        this.entityURL = 'https://grandapp.herokuapp.com/entity';
        this.currentPagesize = 5; // default pagesize is 5
        this.currentPageNumber = 1; // default pageNumber is 1
        this.activitySubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"](); // 发送器，通知有变化
        this.activity$ = this.activitySubject.asObservable(); // 数据储存的地方， 可以被subscribe()然后就可以获取数据
        this.httpOptions = {
            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                'Content-Type': 'application/json',
                'x-access-token': localStorage.getItem('token')
            })
        };
    }
    ActivitiesService.prototype.setCurrentPageSize = function (num) {
        this.currentPagesize = num;
    };
    ActivitiesService.prototype.getCurrentPageSize = function () {
        return this.currentPagesize;
    };
    ActivitiesService.prototype.setCurrentPageNumber = function (num) {
        this.currentPageNumber = num;
    };
    ActivitiesService.prototype.getCurrentPageNumber = function () {
        return this.currentPageNumber;
    };
    ActivitiesService.prototype.setTotalActivities = function (total) {
        this.totalActivities = total;
    };
    ActivitiesService.prototype.getTotaluActivities = function () {
        return this.totalActivities;
    };
    ActivitiesService.prototype.searchActByTitle = function (title) {
        return this.http.get(this.actURL + "?title=" + title, this.httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('searchActByTitle')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('searchActByTitle', resp); }));
    };
    ActivitiesService.prototype.countTotalActivities = function () {
        return this.http
            .get(this.entityURL + "/count/activities", this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('countTotalActivities')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('countTotalActivities', resp); }));
    };
    ActivitiesService.prototype.getActivity = function (id) {
        return this.http.get(this.actURL + "/" + id, this.httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getActivity')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getActivity', resp); }));
    };
    ActivitiesService.prototype.getActivities = function () {
        return this.http.get(this.actURL, this.httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getActivities')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getActivities', resp); }));
    };
    ActivitiesService.prototype.getActivitiesByParams = function (pageNumber, numberPerPage) {
        return this.http
            .get(this.actURL + "?skip=" + pageNumber + "&limit=" + numberPerPage, this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getActivitiesByParams')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getActivitiesByParams', resp); }));
    };
    ActivitiesService.prototype.addActivitiy = function (activity) {
        return this.http.post(this.actURL, activity, this.httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('addActivities')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('addActivities', resp); }));
    };
    ActivitiesService.prototype.editActivity = function (newActivity) {
        return this.http
            .put(this.actURL + "/" + newActivity.id, newActivity, this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('editActivities')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('editActivities', resp); }));
    };
    ActivitiesService.prototype.actDataChanged = function (mode) {
        this.activitySubject.next(mode); // emit有变化，并且传送新的value
    };
    ActivitiesService.prototype.deleteActivity = function (idToDelete) {
        return this.http.delete(this.actURL + "/" + idToDelete, this.httpOptions);
    };
    ActivitiesService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            if (error.status !== 200) {
                // TODO: send the error to remote logging infrastructure
                // console.error(error);
                // TODO: better job of transforming error for user consumption
                // console.log(`${operation} failed: ${error.message}`);
                // Catch the status code and do some actions if it is a particular situation
                _this.messageService.setMessage(error.error);
            }
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        };
    };
    ActivitiesService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _messages_messages_service__WEBPACK_IMPORTED_MODULE_4__["MessagesService"]])
    ], ActivitiesService);
    return ActivitiesService;
}());



/***/ }),

/***/ "./src/app/services/auth/auth.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/auth/auth.service.ts ***!
  \***********************************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _services_messages_messages_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/messages/messages.service */ "./src/app/services/messages/messages.service.ts");
/* harmony import */ var _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @auth0/angular-jwt */ "./node_modules/@auth0/angular-jwt/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var httpOptions = {
    headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
    })
};
var AuthService = /** @class */ (function () {
    function AuthService(http, jwtHelper, 
    // private cookieService: CookieService,
    router, messageService) {
        this.http = http;
        this.jwtHelper = jwtHelper;
        this.router = router;
        this.messageService = messageService;
        this.user = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"](); // 发送器，通知有变化
        this.user$ = this.user.asObservable(); // 数据储存的地方， 可以被subscribe()然后就可以获取数据
        this.authrUrl = 'https://grandapp.herokuapp.com/login';
    }
    AuthService.prototype.changeUserStatus = function (value) {
        this.user.next(value); // emit有变化，并且传送新的value
    };
    AuthService.prototype.isAuthenticated = function () {
        var token = localStorage.getItem('token');
        // console.log('==>', token);
        if (token) {
            // Check whether the token is expired and return
            // true or false
            // return !this.jwtHelper.isTokenExpired(token);
            return true;
        }
        else {
            return false;
        }
    };
    AuthService.prototype.login = function (user) {
        return this.http.post(this.authrUrl, user).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(this.handleError('login')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["tap"])(function (resp) { return console.log('loginResponse', resp); }));
    };
    AuthService.prototype.logout = function () {
        localStorage.clear();
        this.router.navigate(['/login']);
    };
    AuthService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            if (error.status !== 200) {
                // TODO: send the error to remote logging infrastructure
                console.error(error);
                // TODO: better job of transforming error for user consumption
                // console.log(`${operation} failed: ${error.message}`);
                // Catch the status code and do some actions if it is a particular situation
                _this.messageService.setMessage(error.error);
            }
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["of"])(result);
        };
    };
    AuthService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _auth0_angular_jwt__WEBPACK_IMPORTED_MODULE_6__["JwtHelperService"],
            _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"],
            _services_messages_messages_service__WEBPACK_IMPORTED_MODULE_5__["MessagesService"]])
    ], AuthService);
    return AuthService;
}());



/***/ }),

/***/ "./src/app/services/dialog/dialog.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/dialog/dialog.service.ts ***!
  \***************************************************/
/*! exports provided: DialogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogService", function() { return DialogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DialogService = /** @class */ (function () {
    function DialogService() {
        this.dialog = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"](); // 发送器，通知有变化
        this.dialog$ = this.dialog.asObservable(); // 数据储存的地方， 可以被subscribe()然后就可以获取数据
    }
    DialogService.prototype.openDialog = function (mode) {
        this.dialog.next(mode); // emit有变化，并且传送新的value
    };
    DialogService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], DialogService);
    return DialogService;
}());



/***/ }),

/***/ "./src/app/services/entity/entity.service.ts":
/*!***************************************************!*\
  !*** ./src/app/services/entity/entity.service.ts ***!
  \***************************************************/
/*! exports provided: EntityService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EntityService", function() { return EntityService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _messages_messages_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/messages.service */ "./src/app/services/messages/messages.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var EntityService = /** @class */ (function () {
    function EntityService(http, messageService) {
        this.http = http;
        this.messageService = messageService;
        this.entitiesURL = 'https://grandapp.herokuapp.com/entity/entities';
        this.entitiesUsers = 'https://grandapp.herokuapp.com/entity/users';
        this.entityURL = 'https://grandapp.herokuapp.com/entity';
        this.currentPagesize = 5; // default pagesize is 5
        this.currentPageNumber = 1; // default pageNumber is 1
        this.httpOptions = {
            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                'Content-Type': 'application/json',
                'x-access-token': localStorage.getItem('token')
            })
        };
    }
    EntityService.prototype.setCurrentPageSize = function (num) {
        this.currentPagesize = num;
    };
    EntityService.prototype.getCurrentPageSize = function () {
        return this.currentPagesize;
    };
    EntityService.prototype.setCurrentPageNumber = function (num) {
        this.currentPageNumber = num;
    };
    EntityService.prototype.getCurrentPageNumber = function () {
        return this.currentPageNumber;
    };
    EntityService.prototype.setTotalUsers = function (total) {
        this.totalUsers = total;
    };
    EntityService.prototype.getTotaluUsers = function () {
        return this.totalUsers;
    };
    EntityService.prototype.countTotalUsers = function () {
        return this.http
            .get(this.entityURL + "/count/users", this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('countTotalUsers')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('countTotalUsers', resp); }));
    };
    EntityService.prototype.getEntities = function () {
        return this.http.get(this.entitiesURL, this.httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getEntities')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getEntities', resp); }));
    };
    EntityService.prototype.getEntityInfo = function (entitiyId) {
        return this.http
            .get(this.entitiesURL + "/" + entitiyId.id, this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getEntityInfo')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getEntityInfo', resp); }));
    };
    EntityService.prototype.getEntityStatisticsActivities = function (entitiyId) {
        console.log('service entityID: ', entitiyId);
        return this.http
            .get(this.entitiesURL + "/" + entitiyId + "/statistics/activities", this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getEntityStatisticsActivities')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getEntityStatisticsActivities', resp); }));
    };
    EntityService.prototype.getEntityStatisticsUsers = function (entitiyId) {
        return this.http
            .get(this.entitiesURL + "/" + entitiyId + "/statistics/users", this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getEntityStatisticsUsers')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getEntityStatisticsUsers', resp); }));
    };
    EntityService.prototype.getEntityStatisticsAchievements = function (entitiyId) {
        return this.http
            .get(this.entitiesURL + "/" + entitiyId + "/statistics/achievements", this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getEntityStatisticsAchievements')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) {
            return console.log('getEntityStatisticsAchievements', resp);
        }));
    };
    EntityService.prototype.getTotalConnections = function (entitiyId) {
        return this.http
            .get(this.entitiesURL + "/" + entitiyId + "/statistics/connections", this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getTotalConnections')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getTotalConnections(', resp); }));
    };
    EntityService.prototype.getAllUsersOfMyEntity = function () {
        return this.http.get("" + this.entitiesUsers, this.httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getAllUsersOfMyEntity')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getAllUsersOfMyEntity(', resp); }));
    };
    EntityService.prototype.getEmergencyContacts = function (entitiyId) {
        return this.http
            .get(this.entitiesURL + "/" + entitiyId + "/emergency", this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getEntitySos')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getEntitySos', resp); }));
    };
    EntityService.prototype.addEmergencyContact = function (uid, newContact) {
        console.log('uid: ', uid);
        console.log('newContact: ', newContact);
        return this.http
            .post(this.entitiesUsers + "/" + uid + "/emergency", newContact, this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('addEmergencyContact')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('addEmergencyContact', resp); }));
    };
    EntityService.prototype.getUsersByParams = function (pageNumber, numberPerPage) {
        return this.http
            .get(this.entitiesUsers + "?skip=" + pageNumber + "&limit=" + numberPerPage, this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getUsersByParams')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getUsersByParams', resp); }));
    };
    EntityService.prototype.searchUserByCompleteName = function (name) {
        return this.http
            .get(this.entitiesUsers + "?completeName=" + name, this.httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('searchUserByCompleteName')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('searchUserByCompleteName', resp); }));
    };
    EntityService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            if (error.status !== 200) {
                // TODO: send the error to remote logging infrastructure
                // console.error(error);
                // TODO: better job of transforming error for user consumption
                // console.log(`${operation} failed: ${error.message}`);
                // Catch the status code and do some actions if it is a particular situation
                _this.messageService.setMessage(error.error);
            }
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        };
    };
    EntityService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _messages_messages_service__WEBPACK_IMPORTED_MODULE_4__["MessagesService"]])
    ], EntityService);
    return EntityService;
}());



/***/ }),

/***/ "./src/app/services/geocoding/geocoding.service.ts":
/*!*********************************************************!*\
  !*** ./src/app/services/geocoding/geocoding.service.ts ***!
  \*********************************************************/
/*! exports provided: GeocodingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeocodingService", function() { return GeocodingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _messages_messages_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/messages.service */ "./src/app/services/messages/messages.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GeocodingService = /** @class */ (function () {
    function GeocodingService(http, messageService) {
        this.http = http;
        this.messageService = messageService;
        this.googleMapUrl = 'https://maps.googleapis.com/maps/api/geocode/json';
    }
    GeocodingService.prototype.getLatLong = function (address) {
        return this.http.get(this.googleMapUrl + "?address=" + address + "&key=AIzaSyDBNBmRlzQDTVzB07XLJbuusxIh84qXOOg");
    };
    GeocodingService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            if (error.status !== 200) {
                // TODO: send the error to remote logging infrastructure
                console.error(error);
                // TODO: better job of transforming error for user consumption
                // console.log(`${operation} failed: ${error.message}`);
                // Catch the status code and do some actions if it is a particular situation
                _this.messageService.setMessage(error.error);
            }
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        };
    };
    GeocodingService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _messages_messages_service__WEBPACK_IMPORTED_MODULE_3__["MessagesService"]])
    ], GeocodingService);
    return GeocodingService;
}());



/***/ }),

/***/ "./src/app/services/guard/auth-guard.service.ts":
/*!******************************************************!*\
  !*** ./src/app/services/guard/auth-guard.service.ts ***!
  \******************************************************/
/*! exports provided: AuthGuardService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthGuardService", function() { return AuthGuardService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _auth_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../auth/auth.service */ "./src/app/services/auth/auth.service.ts");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AuthGuardService = /** @class */ (function () {
    function AuthGuardService(auth, router) {
        this.auth = auth;
        this.router = router;
    }
    AuthGuardService.prototype.canActivate = function () {
        if (!this.auth.isAuthenticated()) {
            this.router.navigate(['/login']); // if not authenticated, then back to the /login page
            return false;
        }
        return true;
    };
    AuthGuardService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_auth_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"], _angular_router__WEBPACK_IMPORTED_MODULE_2__["Router"]])
    ], AuthGuardService);
    return AuthGuardService;
}());



/***/ }),

/***/ "./src/app/services/messages/messages.service.ts":
/*!*******************************************************!*\
  !*** ./src/app/services/messages/messages.service.ts ***!
  \*******************************************************/
/*! exports provided: MessagesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessagesService", function() { return MessagesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MessagesService = /** @class */ (function () {
    function MessagesService() {
    }
    MessagesService.prototype.setMessage = function (message) {
        this.message = message;
    };
    MessagesService.prototype.getMessage = function () {
        return this.message;
    };
    MessagesService.prototype.getExists = function () {
        return this.message;
    };
    MessagesService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], MessagesService);
    return MessagesService;
}());



/***/ }),

/***/ "./src/app/services/reverseGeocoding/reverse-geocoding.service.ts":
/*!************************************************************************!*\
  !*** ./src/app/services/reverseGeocoding/reverse-geocoding.service.ts ***!
  \************************************************************************/
/*! exports provided: ReverseGeocodingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReverseGeocodingService", function() { return ReverseGeocodingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var _messages_messages_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../messages/messages.service */ "./src/app/services/messages/messages.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var ReverseGeocodingService = /** @class */ (function () {
    function ReverseGeocodingService(http, messageService) {
        this.http = http;
        this.messageService = messageService;
        this.googleMapUrl = 'https://maps.googleapis.com/maps/api/geocode/json';
    }
    ReverseGeocodingService.prototype.convertToStreet = function (latitude, longitude) {
        var lat = latitude;
        var lng = longitude;
        return this.http.get(this.googleMapUrl + "?latlng=" + lat + "," + lng + "&key=AIzaSyDBNBmRlzQDTVzB07XLJbuusxIh84qXOOg");
    };
    ReverseGeocodingService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            if (error.status !== 200) {
                // TODO: send the error to remote logging infrastructure
                console.error(error);
                // TODO: better job of transforming error for user consumption
                // console.log(`${operation} failed: ${error.message}`);
                // Catch the status code and do some actions if it is a particular situation
                _this.messageService.setMessage(error.error);
            }
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        };
    };
    ReverseGeocodingService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"], _messages_messages_service__WEBPACK_IMPORTED_MODULE_3__["MessagesService"]])
    ], ReverseGeocodingService);
    return ReverseGeocodingService;
}());



/***/ }),

/***/ "./src/app/services/sidebar/sidebar.service.ts":
/*!*****************************************************!*\
  !*** ./src/app/services/sidebar/sidebar.service.ts ***!
  \*****************************************************/
/*! exports provided: SidebarService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SidebarService", function() { return SidebarService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var SidebarService = /** @class */ (function () {
    function SidebarService() {
        this.opened = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"](); // 发送器，通知有变化
        this.opened$ = this.opened.asObservable(); // 数据储存的地方， 可以被subscribe()然后就可以获取数据
    }
    SidebarService.prototype.changeSidebarStatus = function (value) {
        this.opened.next(value);
    };
    SidebarService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], SidebarService);
    return SidebarService;
}());



/***/ }),

/***/ "./src/app/services/upload/upload-images.service.ts":
/*!**********************************************************!*\
  !*** ./src/app/services/upload/upload-images.service.ts ***!
  \**********************************************************/
/*! exports provided: UploadImagesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadImagesService", function() { return UploadImagesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _messages_messages_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/messages.service */ "./src/app/services/messages/messages.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var UploadImagesService = /** @class */ (function () {
    function UploadImagesService(http, messageService) {
        this.http = http;
        this.messageService = messageService;
        this.url = 'https://grandapp.herokuapp.com/imagesJson';
    }
    UploadImagesService.prototype.upload = function (imageBase64) {
        return this.http.post(this.url, { base64: imageBase64 }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('uploadImage')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('uploadImage', resp); }));
    };
    UploadImagesService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            if (error.status !== 200) {
                // TODO: send the error to remote logging infrastructure
                // console.error(error);
                // TODO: better job of transforming error for user consumption
                // console.log(`${operation} failed: ${error.message}`);
                // Catch the status code and do some actions if it is a particular situation
                _this.messageService.setMessage(error.error);
            }
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        };
    };
    UploadImagesService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _messages_messages_service__WEBPACK_IMPORTED_MODULE_4__["MessagesService"]])
    ], UploadImagesService);
    return UploadImagesService;
}());



/***/ }),

/***/ "./src/app/services/user/user.service.ts":
/*!***********************************************!*\
  !*** ./src/app/services/user/user.service.ts ***!
  \***********************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm5/http.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm5/index.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm5/operators/index.js");
/* harmony import */ var _messages_messages_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../messages/messages.service */ "./src/app/services/messages/messages.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var httpOptions = {
    headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
        'Content-Type': 'application/json',
        'x-access-token': localStorage.getItem('token')
    })
};
var UserService = /** @class */ (function () {
    function UserService(http, messageService) {
        this.http = http;
        this.messageService = messageService;
        this.verifyURL = 'https://grandapp.herokuapp.com/verify';
        this.userURL = 'https://grandapp.herokuapp.com/entity/users';
        this.userSubject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"](); // 发送器，通知有变化
        this.user$ = this.userSubject.asObservable(); // 数据储存的地方， 可以被subscribe()然后就可以获取数据
    }
    UserService.prototype.verify = function () {
        var httpOptions2 = {
            headers: new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHeaders"]({
                'Content-Type': 'application/json',
                'x-access-token': localStorage.getItem('token')
            })
        };
        return this.http.get(this.verifyURL, httpOptions2).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('verify')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('verify', resp); }));
    };
    UserService.prototype.getEmergencyPhoneById = function (uid) {
        return this.http
            .get(this.userURL + "/" + uid + "/emergency", httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getEmergencyPhoneById')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getEmergencyPhoneById', resp); }));
    };
    UserService.prototype.getUserInfo = function (id) {
        return this.http.get(this.userURL + "/" + id, httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getUserInfo')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getUserInfo', resp); }));
    };
    UserService.prototype.updateUserInfo = function (newUser, userID) {
        return this.http
            .put(this.userURL + "/" + userID, newUser, httpOptions)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('updateUserInfo')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('updateUserInfo', resp); }));
    };
    UserService.prototype.getAllUsers = function () {
        return this.http.get(this.userURL, httpOptions).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(this.handleError('getAllUser')), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["tap"])(function (resp) { return console.log('getAllUser', resp); }));
    };
    UserService.prototype.userDataChanged = function (mode) {
        this.userSubject.next(mode); // emit有变化，并且传送新的value
    };
    UserService.prototype.handleError = function (operation, result) {
        var _this = this;
        if (operation === void 0) { operation = 'operation'; }
        return function (error) {
            if (error.status !== 200) {
                // TODO: send the error to remote logging infrastructure
                // console.error(error);
                // TODO: better job of transforming error for user consumption
                // console.log(`${operation} failed: ${error.message}`);
                // Catch the status code and do some actions if it is a particular situation
                _this.messageService.setMessage(error.error);
            }
            // Let the app keep running by returning an empty result.
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(result);
        };
    };
    UserService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"],
            _messages_messages_service__WEBPACK_IMPORTED_MODULE_4__["MessagesService"]])
    ], UserService);
    return UserService;
}());



/***/ }),

/***/ "./src/app/services/userLocation/user-location.service.ts":
/*!****************************************************************!*\
  !*** ./src/app/services/userLocation/user-location.service.ts ***!
  \****************************************************************/
/*! exports provided: UserLocationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserLocationService", function() { return UserLocationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var UserLocationService = /** @class */ (function () {
    function UserLocationService() {
        this.locations = [
            {
                userID: '1',
                lat: 51.575428,
                lng: 7.39917,
                address: ''
            },
            {
                userID: '2',
                lat: 51.576428,
                lng: 7.738917,
                address: ''
            },
            {
                userID: '3',
                lat: 51.573428,
                lng: 7.839317,
                address: ''
            },
            {
                userID: '4',
                lat: 51.575788,
                lng: 7.837917,
                address: ''
            }
        ];
    }
    UserLocationService.prototype.getUserLocation = function (id) {
        var lat = this.locations.find(function (user) { return user.userID == id; }).lat;
        var lng = this.locations.find(function (user) { return user.userID == id; }).lng;
        return { lat: lat, lng: lng };
    };
    UserLocationService = __decorate([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])({
            providedIn: 'root'
        }),
        __metadata("design:paramtypes", [])
    ], UserLocationService);
    return UserLocationService;
}());



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
var environment = {
    production: false
};
/*
 * In development mode, to ignore zone related error stack frames such as
 * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can
 * import the following file, but please comment it out in production mode
 * because it will have performance impact when throw error
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm5/platform-browser-dynamic.js");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");




if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_2__["AppModule"])
    .catch(function (err) { return console.log(err); });


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\admin\Desktop\grandapp\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main.js.map